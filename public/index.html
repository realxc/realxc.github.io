<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="åšå®¢å›­-å‘é—¯">
<meta property="og:url" content="http://realxc.githut.io/index.html">
<meta property="og:site_name" content="åšå®¢å›­-å‘é—¯">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="åšå®¢å›­-å‘é—¯">





  
  
  <link rel="canonical" href="http://realxc.githut.io/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>åšå®¢å›­-å‘é—¯</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">åšå®¢å›­-å‘é—¯</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>å…³äº</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-schedule">

    
    
    
      
    

    

    <a href="/schedule/" rel="section"><i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>æ—¥ç¨‹è¡¨</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-commonweal">

    
    
    
      
    

    

    <a href="/404/" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>å…¬ç›Š 404</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://realxc.githut.io/2019/09/30/hah/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiang Chuang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åšå®¢å›­-å‘é—¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/09/30/hah/" class="post-title-link" itemprop="url">hah</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-09-30 15:35:25 / ä¿®æ”¹æ—¶é—´ï¼š15:35:26" itemprop="dateCreated datePublished" datetime="2019-09-30T15:35:25+08:00">2019-09-30</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ğŸ˜Š</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://realxc.githut.io/2019/07/11/mysqlæ•°æ®åº“wait-timeouté—®é¢˜/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiang Chuang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åšå®¢å›­-å‘é—¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/07/11/mysqlæ•°æ®åº“wait-timeouté—®é¢˜/" class="post-title-link" itemprop="url">mysqlæ•°æ®åº“wait_timeouté—®é¢˜</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-07-11 14:59:00" itemprop="dateCreated datePublished" datetime="2019-07-11T14:59:00+08:00">2019-07-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-30 15:34:10" itemprop="dateModified" datetime="2019-09-30T15:34:10+08:00">2019-09-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/è¿™äº›å¹´ï¼Œé‚£äº›å‘/" itemprop="url" rel="index"><span itemprop="name">è¿™äº›å¹´ï¼Œé‚£äº›å‘</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>èƒŒæ™¯ï¼šè¿‘æ—¥ä¸çŒªæ–¹åˆä½œä¸€é¡¹ç›®ï¼Œé¡¹ç›®äº¤ä»˜åï¼Œå¯¹æ–¹åé¦ˆæµ‹è¯•ç¯å¢ƒè€æ˜¯å‡ºç°æ•°æ®åº“å¼‚å¸¸ï¼ˆä¸‹é¢ç»™å‡ºå †æ ˆæ—¥å¿—ï¼‰ï¼Œå¹¶ä¸”å¯¹æ–¹çš„å…¶ä»–åº”ç”¨æ²¡æœ‰é—®é¢˜ã€‚ä½†äº¤ä»˜å‰ï¼Œæ­¤é¡¹ç›®åœ¨æˆ‘ä»¬çš„ç¯å¢ƒï¼ˆä»£ç ã€æ•°æ®åº“ç­‰éƒ½æ˜¯æˆ‘ä»¬çš„ï¼‰ä¸­æµ‹è¯•å¹¶æ— é—®é¢˜ã€‚</p>
<p>é—®é¢˜ç°è±¡ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">at java.lang.Thread.run(Thread.java:748)</span><br><span class="line">Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</span><br><span class="line"></span><br><span class="line">The last packet successfully received from the server was 56,397 milliseconds ago.  The last packet sent successfully to the server was 0 milliseconds ag</span><br><span class="line">o.</span><br><span class="line">        at sun.reflect.GeneratedConstructorAccessor47.newInstance(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)</span><br><span class="line">        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)</span><br><span class="line">        at com.mysql.jdbc.Util.handleNewInstance(Util.java:404)</span><br><span class="line">        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:981)</span><br><span class="line">        at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3465)</span><br><span class="line">        at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3365)</span><br><span class="line">        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3805)</span><br><span class="line">        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2478)</span><br><span class="line">        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2625)</span><br><span class="line">        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2547)</span><br><span class="line">        at com.mysql.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:4874)</span><br><span class="line">        at com.alibaba.druid.pool.DruidPooledConnection.setAutoCommit(DruidPooledConnection.java:712)</span><br><span class="line">        at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:225)</span><br><span class="line">        ... 45 common frames omitted</span><br><span class="line">Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.</span><br><span class="line">        at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:2957)</span><br><span class="line">        at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3375)</span><br><span class="line">        ... 53 common frames omitted</span><br><span class="line">2019-07-11 13:41:00.311 [TxId:test_1562754979799^1562754982427^117,SpanId:2404734433174193776] [INFO ] c.z.c.p.b.a.i.w.WithdrawTransImpl:116 - æŸ¥è¯¢äº¤æ˜“ç»“</span><br><span class="line">æŸTradeQueryResult [sucAmount=0, transDate=null]</span><br><span class="line">2019-07-11 13:42:47.097 [TxId:,SpanId:] [INFO ] c.z.c.c.a.r.DefaultRealtimeMonitor:52 - realtime monitor request end, api server return message : LOOP</span><br><span class="line">2019-07-11 13:42:47.097 [TxId:,SpanId:] [INFO ] c.z.c.c.a.r.DefaultRealtimeMonitor:49 - realtime monitor request begin, url -&gt; http://api.config.zhubajie</span><br><span class="line">.la/realtime/pull</span><br><span class="line">2019-07-11 13:44:00.415 [TxId:192.168.25.11.1015^1561538402946^21456,Span</span><br></pre></td></tr></table></figure></p>
<p>çœ‹åˆ°è¿™æ®µæ—¥å¿—ï¼Œæˆ‘æ³¨æ„åˆ°â€œCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure The last packet successfully received from the server was 56,397 milliseconds ago.  The last packet sent successfully to the server was 0 milliseconds ag<br>o.â€ï¼Œ 56397æ¯«ç§’ï¼Œè¿™ä¸ªæ•°å­—å¾ˆæ‰çœ¼ï¼ï¼ï¼ å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„druidè¿æ¥æ± ï¼Œæœ€å°ç”Ÿå­˜æ—¶é—´å’Œéœ€è¦å…³é—­çš„ç©ºé—²è¿æ¥æ—¶é—´éƒ½æ˜¯60sï¼Œè¯´æ˜äº†ä¸€ä¸ªé—®é¢˜ï¼Œæ‰€æ‹¿åˆ°çš„è¿æ¥æœªè¶…è¿‡60sï¼Œæ‰€ä»¥ä»åœ¨è¿æ¥æ± ä¸­ï¼Œä½†æ˜¯è¯¥è¿æ¥è²Œä¼¼æ˜¯å¤±æ•ˆäº†ã€‚åˆ†æåˆ°è¿™å„¿ï¼Œæˆ‘çŒœæµ‹çŒªæ–¹mysqlæ•°æ®åº“çš„wait_timeoutä¼°è®¡æ˜¯è¿›è¡Œäº†ä¿®æ”¹ä¸”å°äº56.397ç§’ï¼ˆé»˜è®¤æ˜¯8å°æ—¶ï¼Œæˆ‘ä»¬å·¥æ—¶ä½¿ç”¨é»˜è®¤å€¼ï¼‰ï¼Œäºæ˜¯æ¥åˆ°çŒªæ–¹çš„æ•°æ®åº“ï¼Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">show global variables like &apos;%timeout&apos;;</span><br><span class="line">connect_timeout	10</span><br><span class="line">delayed_insert_timeout	300</span><br><span class="line">have_statement_timeout	YES</span><br><span class="line">innodb_flush_log_at_timeout	1</span><br><span class="line">innodb_lock_wait_timeout	120</span><br><span class="line">innodb_rollback_on_timeout	OFF</span><br><span class="line">interactive_timeout	30</span><br><span class="line">lock_wait_timeout	31536000</span><br><span class="line">net_read_timeout	5</span><br><span class="line">net_write_timeout	5</span><br><span class="line">rpl_semi_sync_master_timeout	10000</span><br><span class="line">rpl_stop_slave_timeout	31536000</span><br><span class="line">slave_net_timeout	60</span><br><span class="line">thread_pool_idle_timeout	60</span><br><span class="line">tokudb_last_lock_timeout	</span><br><span class="line">tokudb_lock_timeout	4000</span><br><span class="line">wait_timeout	30</span><br></pre></td></tr></table></figure></p>
<p>å¥½å§ï¼ŒçŒœæƒ³æ­£ç¡®ï¼Œä»–ä»¬è®²wait_timeoutè®¾ç½®æˆäº†30sã€‚</p>
<p>åŒæ—¶ä»–ä»¬è‡ªå·±çš„è¿æ¥æ± é…ç½®æ˜¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dataSource.setTimeBetweenEvictionRunsMillis(5000);</span><br><span class="line">dataSource.setMinEvictableIdleTimeMillis(30000);</span><br></pre></td></tr></table></figure></p>
<p>è€Œæˆ‘ä»¬çš„è¿æ¥æ± é…ç½®æ˜¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dataSource.setTimeBetweenEvictionRunsMillis(60000);</span><br><span class="line">dataSource.setMinEvictableIdleTimeMillis(60000);</span><br></pre></td></tr></table></figure></p>
<p>é—®é¢˜è§£å†³ï¼ï¼ï¼</p>
<p>å…³äºwait_timeoutï¼Œè¿™ä¸ªå‚æ•°åˆ°åº•è¦ä¸è¦é‡æ–°è®¾ç½®å€¼æ²¡æœ‰å›ºå®šçš„æ ‡å‡†ï¼Œä¿éšœæ•°æ®åº“çš„å¯ç”¨æ€§å’Œæ€§èƒ½å³å¯ï¼Œä½†åº”ç”¨å±‚å¿…é¡»æ ¹æ®wait_timeoutçš„å®é™…æƒ…å†µè¿›è¡Œç›¸åº”çš„é…ç½®ï¼š<br>1ã€æœ€å¤§ç©ºé—²æ—¶é—´ä¸èƒ½å¤§äºwait_timeout<br>2ã€å¯ä»¥å°è¯•åœ¨æ•°æ®åº“è¿æ¥ä¸­å¢åŠ autoReconnect=true<br>3ã€testWhileIdle=â€trueâ€ timeBetweenEvictionRunsMillis=â€10000â€ validationQuery=â€select 1â€</p>
<p>çŒªæ–¹è¿æ¥æ± ï¼š<br><img src="\images\pasted-92.png" alt="upload successful"><br>æˆ‘æ–¹è¿æ¥æ± ï¼š</p>
<p><img src="\images\pasted-94.png" alt="upload successful"></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://realxc.githut.io/2019/07/08/spring-boot1-3-5æ”¯æŒjspå¯¼è‡´æµè§ˆå™¨è®¿é—®åº”ç”¨å¶å°”æ…¢/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiang Chuang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åšå®¢å›­-å‘é—¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/07/08/spring-boot1-3-5æ”¯æŒjspå¯¼è‡´æµè§ˆå™¨è®¿é—®åº”ç”¨å¶å°”æ…¢/" class="post-title-link" itemprop="url">spring-boot1.3.5æ”¯æŒjspå¯¼è‡´æµè§ˆå™¨è®¿é—®åº”ç”¨å¶å°”æ…¢</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-07-08 14:42:00" itemprop="dateCreated datePublished" datetime="2019-07-08T14:42:00+08:00">2019-07-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-30 15:34:10" itemprop="dateModified" datetime="2019-09-30T15:34:10+08:00">2019-09-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/è¿™äº›å¹´ï¼Œé‚£äº›å‘/" itemprop="url" rel="index"><span itemprop="name">è¿™äº›å¹´ï¼Œé‚£äº›å‘</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ¬æ–‡å°†é˜è¿°åœ¨åŸºäºspring-boot1.3.5æ—¥å¸¸å¼€å‘ä¸­æ‰€é‡åˆ°çš„ä¸€ä¸ªç–‘æƒ‘çš„é—®é¢˜ï¼Œä¸‹é¢å°†æŒ‰ç…§é—®é¢˜å¤„ç†çš„è¿‡ç¨‹è¿›è¡Œè¡Œæ–‡ï¼ï¼ï¼</p>
<p>ä¸€ã€é¡¹ç›®ç®€ä»‹ï¼š<br>    è¿™å„¿æœ‰ä¸€ä¸ªä¸šåŠ¡ç³»ç»Ÿï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºMï¼Œæ¶æ„åŸºäºspringboot1.3.5ï¼ŒåŒæ—¶æä¾›äº†webèƒ½åŠ›ï¼Œå‰åç«¯åˆ†ç¦»ã€‚çº¿ä¸Šç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¤–éƒ¨å•†æˆ·çš„ã€å–ç°ä¸šåŠ¡ã€‘ä¼šè·³è½¬åˆ°æœ¬ç³»ç»Ÿçš„é¡µé¢ä¸Šè¿›è¡Œæ“ä½œï¼Œå®é™…åœºæ™¯ä¸­æ›´å¤šçš„æ˜¯æ‰‹æœºç«¯è¿›è¡Œé¡µé¢è·³è½¬ï¼Œä½†ä¹Ÿå¯ä»¥PCç«¯ç½‘é¡µç‰ˆè·³è½¬ï¼Œå› ä¸ºMæ˜¯åŸºäºspring-mvcæä¾›çš„èƒ½åŠ›ï¼ˆè¿™æ˜¯å¯¹é¡¹ç›®çš„é€šç”¨è®¤çŸ¥ï¼Œä½†æŸäº›å…³é”®çš„ç»†èŠ‚ç‚¹å¹¶æ²¡æœ‰åŒ…å«åœ¨é‡Œé¢ï¼Œä»¥è‡³äºåœ¨åç»­é—®é¢˜åˆ†æä¸­èµ°äº†å¾ˆå¤šå¼¯è·¯ï¼Œè€—æ—¶2å¤©åŠæ‰å®šä½åˆ°é—®é¢˜ï¼‰ã€‚</p>
<p>äºŒã€é—®é¢˜ç°è±¡<br>    ä¸šåŠ¡è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¤–éƒ¨å•†æˆ·åæ§½å£°æ¥äº†ï¼Œä¸ºä»€ä¹ˆè·³è½¬åˆ°ä½ ä»¬çš„é¡µé¢é‚£ä¹ˆæ…¢ï¼Œè€—æ—¶3-4sç”šè‡³æ›´ä¹…ï¼Œä¸”é¢‘æ¬¡æ¯”è¾ƒé«˜ï¼ˆåç»è¿ç»´éƒ¨é—¨åŒæ—¶æŸ¥çœ‹ï¼Œå‘ç°è¶…è¿‡10%çš„è¯·æ±‚å‡ºç°æ…¢çš„æƒ…å†µï¼‰ã€‚ç”±äºå¤–éƒ¨å•†æˆ·æ˜¯ç§»åŠ¨ç«¯appï¼Œå› æ­¤ä¸šåŠ¡è·³è½¬è€—æ—¶3-4såé¦ˆåˆ°ç”¨æˆ·é‚£å„¿ä¾¿æ˜¯ç‚¹å‡»ç¡®è®¤æ“ä½œåç™½æ¿3-4sã€‚è¿™ç¡®å®æ˜¯ä¸€ä¸ªç³Ÿç³•çš„ç”¨æˆ·ä½“éªŒï¼å¦ï¼Œæ®ç›¸å…³å°ä¼™ä¼´åæ˜ ï¼Œè¿™æ˜¯ä¸€ä¸ªç”±æ¥å·²ä¹…çš„é—®é¢˜ï¼Œåªæ˜¯ä»¥å‰ä¸šåŠ¡å°‘ï¼Œè€Œä¸”æ˜¯è‡ªå·±çš„å‰ç«¯ä¸šåŠ¡éƒ¨é—¨ä½¿ç”¨ï¼Œæœ‰æ—¶å¿å¿å°±è¿‡å»äº†ã€‚ï¼ˆè¿™å„¿æåˆ°è¿™ä¸€ç‚¹ï¼Œå› ä¸ºï¼Œå¦‚æœèƒ½è¯å®ä»¥å‰çš„æ…¢å’Œç°åœ¨çš„æ…¢é—®é¢˜ä¸€æ ·ï¼Œé‚£ä¹ˆå¯ä»¥æ¨å¯¼å‡ºå¹¶ä¸æ˜¯æ–°çš„æ”¹åŠ¨åå…¶ä»–æ“ä½œå¸¦æ¥çš„æ–°é—®é¢˜ï¼Œè¿™å¯¹é—®é¢˜å®šä½æœ‰æŒ‡å¯¼æ€§æ„ä¹‰ï¼Œä½†åˆ†æé—®é¢˜æ—¶æ€»å½’æ˜¯ä»“ä¿ƒçš„ï¼Œè¿™äº›ä¿¡æ¯æå®¹æ˜“è¢«ä¸¢æ‰ï¼‰ã€‚</p>
<p>ä¸‰ã€ä¸šåŠ¡æè¿°<br>    ä¸ºäº†é˜è¿°é—®é¢˜çš„åˆ†æè¿‡ç¨‹ï¼Œä¸šåŠ¡åœºæ™¯å¿…é¡»æ¸…æ™°ï¼Œä¸‹é¢ç®€ä»‹ä¸€ä¸‹è¯¥ä¸šåŠ¡åœºæ™¯ï¼š</p>
<p><img src="\images\pasted-88.png" alt="upload successful"></p>
<p>å››ã€é—®é¢˜æ’æŸ¥<br>    é€šè¿‡å‰é¢çš„æè¿°ï¼Œæˆ‘ä»¬çŸ¥é“äº†ä¸šåŠ¡åœºæ™¯ã€ç³»ç»Ÿæƒ…å†µåŠé—®é¢˜ç°è±¡ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¼€å§‹äº†é—®é¢˜æ’æŸ¥çš„è¿‡ç¨‹ï¼Œè¿™è¿‡ç¨‹ï¼Œæ˜¯ç—›è‹¦çš„ï¼ï¼ï¼<br>aã€é¦–å…ˆï¼Œæˆ‘ä»¬æ ¹æ®å•†æˆ·æä¾›çš„æµæ°´å·è¿›è¡Œæ—¥å¿—æŸ¥è¯¢ï¼Œå‘ç°å•†æˆ·è¯·æ±‚çš„æ—¶é—´å’Œæˆ‘ä»¬åº•å±‚ç³»ç»ŸMå®é™…æ”¶åˆ°çš„æ—¶é—´ç¡®å®ç›¸å·®äº†3-4sï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†å…¥å£ç³»ç»ŸApiï¼Œå› ä¸ºæ•´ä¸ªä¸šåŠ¡åœºæ™¯ï¼Œæ˜¯ç”±Apiè¿›è¡Œçš„é¡µé¢è·³è½¬ï¼Œä¼šä¸ä¼šæ˜¯Apiåšäº†ä»€ä¹ˆäº‹ï¼Œå¯¼è‡´é¡µé¢è·³è½¬æ…¢äº†ï¼Ÿ<br>bã€é€šè¿‡æŸ¥è¯¢Apiçš„æ—¥å¿—ï¼Œå‘ç°æ”¶åˆ°è¯·æ±‚çš„æ—¶é—´ç¡®å®å’Œå•†æˆ·æ—¶é—´ä¸€è‡´ï¼Œæˆ‘ä»¬ä¼¼ä¹æ‰¾åˆ°é—®é¢˜æ ¹æºï¼Œå³Apiæœ‰é—®é¢˜ï¼Œä½†å½“è¿›ä¸€æ­¥æ’æŸ¥æ—¶ï¼Œå‘ç°Apiå’ŒMçš„äº¤äº’åªæ˜¯åšäº†ç®€å•çš„302é‡å®šå‘ï¼Œå¹¶æ— å…¶ä»–é€»è¾‘ï¼Œä¸”å‘ç°Apiå‘èµ·é‡å®šå‘çš„æ—¶é—´åˆ°Mâ€œæ¥æ”¶â€åˆ°è¯·æ±‚ä¾¿è€—æ—¶äº†3-4sï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬æŠŠçŸ›å¤´æŒ‡å‘äº†ç½‘ç»œé—®é¢˜ï¼ŒåŠ ä¹‹è·³è½¬è¿‡ç¨‹æ˜¯ç”¨çš„åŸŸåè·³è½¬ï¼Œæˆ‘ä»¬æ›´æ·±ä¿¡è¿™3-4sèŠ±åœ¨äº†ç½‘ç»œä¸Šï¼<br>cã€æˆ‘ä»¬æ€€ç–‘æ˜¯å¦æ˜¯ç½‘ç»œé—®é¢˜ï¼Œäºæ˜¯æ‰¾åˆ°è¿ç»´çš„å°ä¼™ä¼´ï¼Œä¸€é€šæ’æŸ¥ï¼Œå›å¤æˆ‘ä»¬ç½‘ç»œæ²¡é—®é¢˜ï¼Œå¹¶ç»™äº†æˆ‘ä»¬ngæ—¥å¿—<br><img src="\images\pasted-89.png" alt="upload successful"><br>dã€è¿™ä¸ªå›å¤è®©æˆ‘ä»¬ä¸ç”˜å¿ƒï¼Œå› ä¸ºæˆ‘ä»¬çš„Apiæ­£å¸¸çš„å‘èµ·äº†è·³è½¬è¯·æ±‚ï¼Œæˆ‘ä»¬çš„Mç³»ç»Ÿ3-4såæ‰æ¥æ”¶åˆ°è¯·æ±‚ï¼Œé‚£è¿™è€—æ—¶ä¸€å®šæ˜¯åœ¨ç½‘ç»œä¸Šå•Šï¼Œå¹¶å¤šæ¬¡åå¤è¿½é—®ä¿¡æ¯ä¸­å¿ƒåŸŸåç­‰ç›¸å…³ç½‘ç»œé—®é¢˜ï¼Œåæ¥ï¼Œæˆ‘é€šè¿‡PCé¡µé¢ç›´æ¥è¿›è¡Œæµ‹è¯•ï¼ˆå› ä¸ºæˆ‘ä¹Ÿæ˜¯è¯¥äº§å“çš„ç”¨æˆ·ï¼‰ï¼Œå½“æˆ‘ä¸€é¡¿æ“ä½œå¹¶ç‚¹å‡»ç¡®è®¤æŒ‰é’®åï¼Œå’¦ï¼Œå¾ˆå¿«å‘€ï¼Œä½†ï¼Œæ¥ä¸‹æ¥æˆ‘åå¤çš„é‡è¯•ã€åˆ·æ–°ã€é‡è¯•ï¼Œæœä¸å…¶ç„¶å¶å°”å‡ºç°äº†ä¸€ç¬”3-4sçš„è€—æ—¶ï¼Œçœ‹æ¥è¿™çœŸæ˜¯å¶å°”å‡ºç°å‘€ï¼ˆå¶å‘é—®é¢˜ï¼Œé‚£è¿™ä¸åº”è¯¥æ˜¯åº”ç”¨é—®é¢˜å‘€ï¼ï¼‰ï¼Œç´§æ¥ç€æˆ‘ä½¿ç”¨è°·æ­Œæµè§ˆå™¨çœ‹äº†è¯·æ±‚æƒ…å†µï¼Œå‘ç°å¦‚ä¸‹ä¿¡æ¯ï¼š<br><img src="\images\pasted-90.png" alt="upload successful">ï¼Œå’¦ï¼Œè¿™è€—æ—¶èŠ±åœ¨äº†TTFBä¸Šé¢å‘€ï¼Œç„¶åç™¾åº¦ä¸€æŸ¥ï¼ŒTTFBåŒ…å«äº†tcpæ¡æ‰‹æ—¶é—´åŠæœåŠ¡ç«¯è¿”å›ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´ã€‚å“¦ï¼Œé‚£è¿™ä¸æ­£è¯´æ˜äº†ç½‘ç»œé—®é¢˜å˜›ï¼åŒæ—¶æˆ‘å‘ç°å¤„ç†é¡µé¢å¶å°”æ…¢ï¼ŒæŸäº›çº¯åå°æœåŠ¡æˆ–è€…å›¾ç‰‡ä¹Ÿæ…¢å‘€ï¼Œäºæ˜¯åˆæ‰¾åˆ°äº†è¿ç»´åŒäº‹ï¼Œè¿™å·²ç»å¤§åŠå¤©è¿‡å»äº†ï¼ˆè™½ç„¶ä¸­é—´å¤„ç†é—®é¢˜æ–­æ–­ç»­ç»­ï¼‰<br>eã€è¿™æ—¶ï¼Œè¿ç»´åŒäº‹æŒ‰ç…§æˆ‘ä»¬çš„æ–¹å¼æµ‹è¯•ï¼Œä¹Ÿç¡®å®å‡ºç°äº†å¶å°”æ…¢ï¼Œä»–ä»¬æŠ“åŒ…åˆ†æï¼Œå‘ç°å½“å‰ç½‘ç»œæ­£å¸¸å‘€ï¼Œä½†æœ‰ä¸€ä¸ªç°è±¡ï¼Œæ…¢çš„è¯·æ±‚æœ‰ä¸‰æ¬¡é‡å¤ACKçš„ç°è±¡ï¼Œè¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿè¿ç»´åŒäº‹è¯´è¿™æ˜¯æ­£å¸¸çš„ï¼ŒTCPåŒ…ä¹±åºä¼šé‡å¤å‘èµ·ACKå˜›ï¼Œæˆ‘å°†ä¿¡å°†ç–‘ï¼Œä½†é—®é¢˜æ²¡è¯´é€šå•Šï¼Œä¸ºä»€ä¹ˆæ…¢ï¼Œä¸€å°æ—¶è¿‡å»äº†ã€‚è¿™æ—¶æ›´å¤šçš„åŒäº‹åŠ å…¥åˆ°é—®é¢˜åˆ†æï¼Œè¿ç»´å°ä¼™ä¼´ä¸ºè¯æ˜ä¸æ˜¯ç½‘ç»œé—®é¢˜ï¼Œåœ¨çº¿ä¸ŠæœåŠ¡å™¨ç›´æ¥ipè®¿é—®é¡µé¢ï¼Œå‘ç°ï¼Œä¹Ÿä¼šå‡ºç°æ…¢ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬ä¹Ÿé€‰æ‹©ç›¸ä¿¡äº†ç½‘ç»œæ²¡é—®é¢˜ï¼Œä½†é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ<br>fã€è¿™æ—¶æˆ‘ä»¬æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œåˆå‘ç°äº†æŸäº›å›¾ç‰‡èµ„æº404ï¼ŒæŸäº›å›¾ç‰‡èµ„æºå³ä½¿å­˜åœ¨ä½†å¶å°”ä¼šæ…¢ï¼Œå’¦ï¼Œæ˜¯ä¸æ˜¯å› ä¸ºé¡µé¢è®¿é—®äº†èµ„æºè€Œèµ„æºæ…¢å¯¼è‡´é¡µé¢æ…¢ï¼Ÿè¿™æ—¶å…¶å®é—®é¢˜çš„åˆ†æç¨æœ‰åå·®äº†ï¼Œå› ä¸ºå‰é¢dçš„æ—¶å€™å·²ç»å‡ºç°è¿‡ç±»ä¼¼é—®é¢˜ï¼Œä½†æ²¡æœ‰åŒ…å«èµ„æºçš„çº¯åå°åŠŸèƒ½ä¹Ÿæ…¢å•Šï¼ä½†èŠ±äº†è¿‘ä¸€å¤©çš„åˆ†æï¼Œå®åœ¨æ˜¯å¤ªå›°æƒ‘ï¼Œäºæ˜¯æˆ‘ä»¬æœç€è¿™ä¸ªæ–¹å‘å»äº†ã€‚<br>gã€æˆ‘ä»¬æŠŠé¡µé¢æ‰£äº†å‡ºæ¥ï¼Œå¹¶æ‰”åˆ°äº†ngä¸Šï¼Œæ—¢ç„¶å›¾ç‰‡èµ„æºæ…¢ï¼Œæˆ‘ä»¬æ”¹åŠ¨é¡µé¢ï¼Œä»¥è‡³äºåé¢ä»…ä»…æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬é¡µé¢äº†ï¼Œç¡®å®ï¼Œè®¿é—®ä¸æ…¢äº†ï¼ˆä½†å‰é¢è¯´äº†ï¼Œè¿™å·²ç»åç¦»äº†ï¼Œå› ä¸ºé¡µé¢ä½äºngä¸­ï¼Œè€Œä¸æ˜¯é¡¹ç›®ä¸­ï¼Œä½†è¿™ä¹Ÿæ˜¯åˆ†æçš„å¿…ç»ä¹‹åœ°ï¼Œå› ä¸ºè¿™å„¿ç¡®å®ä¹Ÿå­˜åœ¨é—®é¢˜ï¼‰ï¼Œæˆ‘ä»¬å°è¯•åŠ ä¸Šcssã€jsèµ„æºï¼Œæ…¢åˆå‡ºç°äº†ï¼Œå¹¶ä¸”å‘ç°éƒ½æ˜¯å›¾æ ‡æ…¢ï¼Œä½†ï¼Œè¿™ä¸åº”è¯¥å‘€ï¼ŒCDNä¸Šé™æ€èµ„æºåº”è¯¥å¾ˆå¿«å‘€ï¼Œä½†åé¢æˆ‘ä»¬å‘ç°è¿™äº›æ…¢çš„å›¾ç‰‡å¹¶ä¸ä½äºCDNï¼Œè€Œæ˜¯åœ¨é¡¹ç›®Mä¸­ï¼ŒåŒæ—¶ä¹Ÿå­˜åœ¨è®¿é—®äº†CDNä¸Šä¸å­˜åœ¨ä¸”å¹¶ä¸éœ€è¦ä¾èµ–çš„èµ„æºã€‚æˆ‘ä»¬æŠŠå›¾ç‰‡æ˜ å°„åšäº†ä¸€ä¸‹ngæ˜ å°„ï¼ˆå‰é¢è¯´çš„è¿™æ˜¯åœ¨ngä¸Šçš„é¡µé¢ï¼‰ï¼Œå†æ¬¡è®¿é—®ï¼Œæ­£å¸¸äº†ã€‚äºæ˜¯ç»“è®ºå‡ºæ¥äº†ï¼Œè‡³å°‘ï¼Œå‰ç«¯å¼€å‘ä¸­ï¼ŒåŠ¨é™åˆ†ç¦»ä¸åˆè§„ï¼ŒåŒæ—¶copyä»£ç ï¼Œæ— ç”¨çš„èµ„æºè®¿é—®ä¹Ÿå‡ºç°äº†ã€‚è¿™æ˜¯ä»Šå¤©è€—æ—¶ä¸€å¤©çš„åˆ†æç»“è®ºã€‚ä½†ã€‚<br>hã€ç¬¬äºŒå¤©ï¼Œä¸Šç­åï¼ŒæŒ‰ç…§æ˜¨æ—¥çš„åˆ†æï¼Œå‰ç«¯è¿›è¡Œäº†æ ‡å‡†åŒ–çš„ä¼˜åŒ–ï¼Œä¸Šçº¿ï¼Œä½†é—®é¢˜ä¾æ—§ï¼ˆæ¯•ç«Ÿå‰é¢å›¾ç‰‡è¿™ä¸ªé—®é¢˜æ˜¯é—®é¢˜ï¼Œä½†ä¸æ˜¯è¿™æ¬¡é—®é¢˜çš„æ ¹æœ¬é—®é¢˜ï¼‰ã€‚è¿™æ—¶ï¼Œå¤§å®¶ä¼™éƒ½å¾ˆæ— è¯­äº†ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆäº†ï¼è¿ç»´å°ä¼™ä¼´åˆå°†çº¯æ–‡æœ¬é¡µé¢æ‰”åˆ°Mé¡¹ç›®ä¸­ï¼Œå¯åŠ¨è®¿é—®ï¼Œå‘ç°ï¼Œä¹Ÿä¼šæ…¢å‘€ï¼Œä»€ä¹ˆæƒ…å†µï¼åŒæ—¶ï¼Œç›¸åŒé¡µé¢å•ç‹¬æ‰”åˆ°tomcatä¸­å¯åŠ¨å°±æ­£å¸¸ï¼Œå“ï¼Œè§é¬¼äº†ã€‚ä¼¼ä¹æ— ä¸‹æ–‡äº†ã€‚<br>iã€è¿™æ—¶Mç³»ç»Ÿè´Ÿè´£äººçªç„¶è¯´åˆ°ï¼Œæµ‹è¯•ç¯å¢ƒèƒ½é‡ç°æ…¢çš„é—®é¢˜ï¼Œï¼ˆæˆ‘ä¼¼ä¹çœ‹åˆ°äº†ä¸€ä¸æ›™å…‰ï¼‰ï¼Œä½†æœ¬åœ°å¯åŠ¨æ²¡é—®é¢˜ï¼ˆè¿™ä¸ªã€‚ã€‚ã€‚ï¼‰ï¼Œï¼Œéš¾é“è¿˜æ˜¯ç¯å¢ƒé—®é¢˜ï¼Ÿæˆ‘æ¥åˆ°æµ‹è¯•ç¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•ï¼Œçœ‹ç€ä¸šåŠ¡æ—¥å¿—ä¸gcæ—¥å¿—ï¼Œå‘ç°å‡ ä¹æ¯æ¬¡æ…¢çš„æ—¶å€™å°±ä¼šåšä¸€æ¬¡gcå›æ”¶ï¼Œå’¦ï¼Œå†…å­˜æœ‰é—®é¢˜ï¼Ÿï¼ˆå®é™…æ˜¯å› ä¸ºæµ‹è¯•ç¯å¢ƒå†…å­˜å°ï¼Œ512Må †å¤§å°ï¼‰ï¼Œä½†æˆ‘åˆå‘ç°çº¿ä¸Šgcæ­£å¸¸å•Šï¼Œä½†ä¸€ç‚¹è››ä¸é©¬è¿¹éƒ½å¾—ä¸€è¯•ï¼ŒæŠŠçº¿ä¸Š1.5Gå †è°ƒæˆäº†4Gå †ï¼Œä¸è¿‡ï¼Œé—®é¢˜ä¾æ—§å•Šï¼Œä¼¼ä¹è¿˜æ…¢çš„æ›´é¢‘ç¹çš„æ ·å­ï¼ˆè¿˜å¥½æ˜¯åŸºäºhttpè®¿é—®æœ‰ç¡¬ä»¶è´Ÿè½½å‡è¡¡ï¼Œæ­£å¸¸ä¸šåŠ¡è·‘ä¸è¿›æ¥ï¼‰ã€‚<br>jã€å¿ƒæœ‰ä¸ç”˜ï¼Œä½†æƒ³ç€èƒ½é‡ç°é—®é¢˜ï¼Œåº”è¯¥å°±èƒ½å®šä½åˆ°é—®é¢˜ï¼Œäºæ˜¯æˆ‘å¼€å§‹äº†ä»£ç åˆ†æä¹‹è·¯ï¼Œå’Œå…¶ä»–å°ä¼™ä¼´ä»ä¸¤ä¸ªæ–¹å‘å¹¶è¡Œå»åˆ†æï¼Œéƒ½è€—æ—¶ä¸€å¤©åŠäº†ï¼Œå¿ƒæƒ³ç€ï¼Œä¸¤ä¸ªæ€è·¯ä¸€èµ·æï¼Œå…´è®¸å¿«ç‚¹ã€‚æ—¢ç„¶æµ‹è¯•ç¯å¢ƒèƒ½é‡ç°ï¼Œå¥½å§ï¼Œæˆ‘è¯•è¯•æœ¬åœ°æ˜¯ä¸æ˜¯çœŸé‡ç°ä¸äº†ï¼Œæˆ‘æ‰“å¼€ideaå¯åŠ¨Mï¼Œä¸€é¡¿å°è¯•ï¼Œå¥½åƒçœŸä¸å¯ä»¥å‘¢ã€‚ä½†æˆ‘debugåˆ°äº†è¯·æ±‚æ‰§è¡Œçš„ç¯èŠ‚ï¼Œé‚£ï¼Œå¥½å§ï¼Œå¼€å¯debugæ—¥å¿—åœ¨æµ‹è¯•ç¯å¢ƒçœ‹çœ‹ï¼Œæ˜¯å“ªä¸ªç¯èŠ‚æ…¢äº†ï¼ŸåŸºäºwarnæ—¥å¿—çº§åˆ«é‡å¯æµ‹è¯•ç¯å¢ƒMï¼Œç„¶åæµ‹è¯•ï¼Œå‘ç°ï¼Œå’¦ï¼ŒçœŸæ˜¯çš„ä¸šåŠ¡ç³»ç»Ÿè‡ªå·±æ…¢å‘¢ï¼Œå·²ç»æ”¶åˆ°è¯·æ±‚äº†ï¼Œåœ¨æŸä¸ªç¯èŠ‚æ…¢ï¼Œè€Œä¸”ï¼ŒæŠŠé¡µé¢æ‰”åˆ°å…¶ä»–ç³»ç»Ÿè¿›è¡Œè®¿é—®å´æ²¡é—®é¢˜ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">2019-07-05 19:05:38.955 DEBUG [http-nio-8004-exec-3] InternalNioInputBuffer:180-- Received [GET /creditCard/cardBinInfo.json HTTP/1.1</span><br><span class="line">Host: 192.168.46.3:8004</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Mobile Safari/537.36</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</span><br><span class="line">Accept-Encoding: gzip, deflate, sdch</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8</span><br><span class="line">Cookie: _csrf=c25ca56a-799f-4e23-b179-b09abaf7fa0e; cavyboss-session=40c8e4d0-0d09-4952-8812-93a1f44b0068; mpay-session=0714ad72-0e83-43d9-8b87-b002c34a71f3</span><br><span class="line"></span><br><span class="line">]</span><br><span class="line">2019-07-05 19:05:38.956 DEBUG [http-nio-8004-exec-3] CoyoteAdapter:180-- The variable [uriBC] has value [/creditCard/cardBinInfo.json]</span><br><span class="line">2019-07-05 19:05:38.957 DEBUG [http-nio-8004-exec-3] CoyoteAdapter:180-- The variable [semicolon] has value [-1]</span><br><span class="line">2019-07-05 19:05:38.957 DEBUG [http-nio-8004-exec-3] CoyoteAdapter:180-- The variable [enc] has value [utf-8]</span><br><span class="line">2019-07-05 19:05:42.640 DEBUG [http-nio-8004-exec-3] LegacyCookieProcessor:180-- Cookies: Parsing b[]: _csrf=c25ca56a-799f-4e23-b179-b09abaf7fa0e; cavyboss-session=40c8e4d0-0d09-4952-8812-93a1f44b0068; mpay-session=0714ad72-0e83-43d9-8b87-b002c34a71f3</span><br><span class="line">2019-07-05 19:05:42.643 DEBUG [http-nio-8004-exec-3] CoyoteAdapter:180--  Requested cookie session id is 0714ad72-0e83-43d9-8b87-b002c34a71f3</span><br><span class="line">2019-07-05 19:05:42.645 DEBUG [http-nio-8004-exec-3] RemoteIpValve:180-- Incoming request /creditCard/cardBinInfo.json with originalRemoteAddr &apos;192.168.47.152&apos;, originalRemoteHost=&apos;192.168.47.152&apos;, originalSecure=&apos;false&apos;, originalScheme=&apos;http&apos; will be seen as newRemoteAddr=&apos;192.168.47.152&apos;, newRemoteHost=&apos;192.168.47.152&apos;, newScheme=&apos;http&apos;, newSecure=&apos;false&apos;</span><br><span class="line">2019-07-05 19:05:42.645 DEBUG [http-nio-8004-exec-3] AuthenticatorBase:180-- Security checking request GET /creditCard/cardBinInfo.json</span><br><span class="line">2019-07-05 19:05:42.646 DEBUG [http-nio-8004-exec-3] RealmBase:180--   No applicable constraints defined</span><br><span class="line">2019-07-05 19:05:42.646 DEBUG [http-nio-8004-exec-3] AuthenticatorBase:180--  Not subject to any constraint</span><br><span class="line">2019-07-05 19:05:42.653 DEBUG [http-nio-8004-exec-3] OrderedRequestContextFilter:114-- Bound request context to thread: org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper@5edc7f61</span><br><span class="line">2019-07-05 19:05:42.654 DEBUG [http-nio-8004-exec-3] DispatcherServlet:863-- DispatcherServlet with name &apos;dispatcherServlet&apos; processing GET request for [/creditCard/cardBinInfo.json]</span><br><span class="line">2019-07-05 19:05:42.655 DEBUG [http-nio-8004-exec-3] Parameters:180-- Set encoding to UTF-8</span><br><span class="line">2019-07-05 19:05:42.660 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:125-- Opening RedisConnection</span><br><span class="line">2019-07-05 19:05:42.663 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:205-- Closing Redis Connection</span><br><span class="line">2019-07-05 19:05:42.663 DEBUG [http-nio-8004-exec-3] EndpointHandlerMapping:301-- Looking up handler method for path /creditCard/cardBinInfo.json</span><br><span class="line">2019-07-05 19:05:42.671 DEBUG [http-nio-8004-exec-3] EndpointHandlerMapping:311-- Did not find handler method for [/creditCard/cardBinInfo.json]</span><br><span class="line">2019-07-05 19:05:42.671 DEBUG [http-nio-8004-exec-3] RequestMappingHandlerMapping:301-- Looking up handler method for path /creditCard/cardBinInfo.json</span><br><span class="line">2019-07-05 19:05:42.692 DEBUG [http-nio-8004-exec-3] RequestMappingHandlerMapping:308-- Returning handler method [public java.lang.Object com.yiji.mobilepay.web.controller.CreditCardWithdrawControler.cardBinInfo(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpSession)]</span><br><span class="line">2019-07-05 19:05:42.692 DEBUG [http-nio-8004-exec-3] DefaultListableBeanFactory:251-- Returning cached instance of singleton bean &apos;creditCardWithdrawControler&apos;</span><br><span class="line">2019-07-05 19:05:42.693 DEBUG [http-nio-8004-exec-3] DispatcherServlet:949-- Last-Modified value for [/creditCard/cardBinInfo.json] is: -1</span><br><span class="line">2019-07-05 19:05:42.704 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:125-- Opening RedisConnection</span><br><span class="line">2019-07-05 19:05:42.704 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:205-- Closing Redis Connection</span><br><span class="line">2019-07-05 19:05:42.831 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findResources(META-INF/services/com.alibaba.fastjson.serializer.AutowiredObjectSerializer)</span><br><span class="line">2019-07-05 19:05:42.841 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:125-- Opening RedisConnection</span><br><span class="line">2019-07-05 19:05:42.842 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:205-- Closing Redis Connection</span><br><span class="line">2019-07-05 19:05:42.844 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:125-- Opening RedisConnection</span><br><span class="line">2019-07-05 19:05:42.844 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:205-- Closing Redis Connection</span><br><span class="line">2019-07-05 19:05:42.847 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:125-- Opening RedisConnection</span><br><span class="line">2019-07-05 19:05:42.848 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:205-- Closing Redis Connection</span><br><span class="line">2019-07-05 19:05:42.848 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:125-- Opening RedisConnection</span><br><span class="line">2019-07-05 19:05:42.849 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:205-- Closing Redis Connection</span><br><span class="line">2019-07-05 19:05:42.849 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:125-- Opening RedisConnection</span><br><span class="line">2019-07-05 19:05:42.849 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:205-- Closing Redis Connection</span><br><span class="line">2019-07-05 19:05:42.862 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findClass(com.yjf.common.lang.result.ViewResultInfoBeanInfo)</span><br><span class="line">2019-07-05 19:05:42.862 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     --&gt; Returning ClassNotFoundException</span><br><span class="line">2019-07-05 19:05:42.866 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findClass(com.yjf.common.lang.result.ViewResultInfoCustomizer)</span><br><span class="line">2019-07-05 19:05:42.867 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     --&gt; Returning ClassNotFoundException</span><br><span class="line">2019-07-05 19:05:42.869 DEBUG [dubbo-remoting-client-heartbeat-thread-1] HeartBeatTask:66--  [DUBBO] Send heartbeat to remote channel /192.168.46.3:20917, cause: The channel has no data-transmission exceeds a heartbeat period: 60000ms</span><br><span class="line">2019-07-05 19:05:42.870 DEBUG [New I/O client worker #1-3] HeartbeatHandler:82--  [DUBBO] Receive heartbeat response in thread New I/O client worker #1-3</span><br><span class="line">2019-07-05 19:05:42.874 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180-- getResource(Object.class)</span><br><span class="line">2019-07-05 19:05:42.874 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@11a9e7c8</span><br><span class="line">2019-07-05 19:05:42.875 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findResource(Object.class)</span><br><span class="line">2019-07-05 19:05:42.876 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.876 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.877 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180-- getResource(String.class)</span><br><span class="line">2019-07-05 19:05:42.878 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@11a9e7c8</span><br><span class="line">2019-07-05 19:05:42.879 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findResource(String.class)</span><br><span class="line">2019-07-05 19:05:42.879 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.880 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.881 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180-- getResource(StringBuilder.class)</span><br><span class="line">2019-07-05 19:05:42.882 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@11a9e7c8</span><br><span class="line">2019-07-05 19:05:42.883 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findResource(StringBuilder.class)</span><br><span class="line">2019-07-05 19:05:42.883 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.884 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.887 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180-- getResource(com.class)</span><br><span class="line">2019-07-05 19:05:42.887 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@11a9e7c8</span><br><span class="line">2019-07-05 19:05:42.888 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findResource(com.class)</span><br><span class="line">2019-07-05 19:05:42.889 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.889 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.890 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180-- getResource(java/lang/com.class)</span><br><span class="line">2019-07-05 19:05:42.891 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@11a9e7c8</span><br><span class="line">2019-07-05 19:05:42.892 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findResource(java/lang/com.class)</span><br><span class="line">2019-07-05 19:05:42.892 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.893 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.894 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180-- getResource(com/yjf.class)</span><br><span class="line">2019-07-05 19:05:42.894 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@11a9e7c8</span><br><span class="line">2019-07-05 19:05:42.895 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findResource(com/yjf.class)</span><br><span class="line">2019-07-05 19:05:42.896 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.896 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.897 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180-- getResource(com/yjf/common.class)</span><br><span class="line">2019-07-05 19:05:42.898 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@11a9e7c8</span><br><span class="line">2019-07-05 19:05:42.899 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findResource(com/yjf/common.class)</span><br><span class="line">2019-07-05 19:05:42.899 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.900 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.901 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180-- getResource(com/yjf/common/util.class)</span><br><span class="line">2019-07-05 19:05:42.901 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   Delegating to parent classloader org.springframework.boot.loader.LaunchedURLClassLoader@11a9e7c8</span><br><span class="line">2019-07-05 19:05:42.902 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     findResource(com/yjf/common/util.class)</span><br><span class="line">2019-07-05 19:05:42.903 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--     --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.903 DEBUG [http-nio-8004-exec-3] WebappClassLoaderBase:180--   --&gt; Resource not found, returning null</span><br><span class="line">2019-07-05 19:05:42.908 DEBUG [http-nio-8004-exec-3] ToString:550-- classloader:TomcatEmbeddedWebappClassLoader</span><br><span class="line">  context: ROOT</span><br><span class="line">  delegate: true</span><br><span class="line">----------&gt; Parent Classloader:</span><br><span class="line">org.springframework.boot.loader.LaunchedURLClassLoader@11a9e7c8</span><br><span class="line"></span><br><span class="line">2019-07-05 19:05:42.910 DEBUG [http-nio-8004-exec-3] RequestResponseBodyMethodProcessor:225-- Written [ViewResultInfo&#123;code=null,data=null,message=è¯·é€šè¿‡ç½‘é¡µæ­£å¸¸æ­¥éª¤è¿›è¡Œè®¿é—®æˆ–è€…ç³»ç»Ÿå·²è¶…æ—¶,success=false&#125;] as &quot;application/json;charset=UTF-8&quot; using [com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter@3220bfbc]</span><br><span class="line">2019-07-05 19:05:42.911 DEBUG [http-nio-8004-exec-3] DispatcherServlet:1036-- Null ModelAndView returned to DispatcherServlet with name &apos;dispatcherServlet&apos;: assuming HandlerAdapter completed request handling</span><br><span class="line">2019-07-05 19:05:42.911 DEBUG [http-nio-8004-exec-3] DispatcherServlet:997-- Successfully completed request</span><br><span class="line">2019-07-05 19:05:42.911 DEBUG [http-nio-8004-exec-3] OrderedRequestContextFilter:104-- Cleared thread-bound request context: org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper@5edc7f61</span><br><span class="line">2019-07-05 19:05:42.912 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:125-- Opening RedisConnection</span><br><span class="line">2019-07-05 19:05:42.912 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:205-- Closing Redis Connection</span><br><span class="line">2019-07-05 19:05:42.912 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:125-- Opening RedisConnection</span><br><span class="line">2019-07-05 19:05:42.913 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:205-- Closing Redis Connection</span><br><span class="line">2019-07-05 19:05:42.913 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:125-- Opening RedisConnection</span><br><span class="line">2019-07-05 19:05:42.913 DEBUG [http-nio-8004-exec-3] RedisConnectionUtils:205-- Closing Redis Connection</span><br></pre></td></tr></table></figure></p>
<p>ä½†æ˜¯ï¼Œè¿™ä¸ªç¯èŠ‚å»å¹²ä»€ä¹ˆäº†å‘¢ï¼Ÿæºä»£ç æ—¥å¿—å¾ˆå°‘ï¼Œçœ‹ä¸å‡ºæ¥å‘€ï¼éš¾é“æ˜¯åˆ†å¸ƒå¼sessioné—®é¢˜ï¼Œå‘ç°springbootåˆ†å¸ƒå¼sessionæˆ‘ä»¬å†…éƒ¨æ˜¯ç”¨rediså®ç°çš„ï¼Œåç»ä¸€é¡¿æ’æŸ¥ï¼Œå‘ç°ä¸Šé¢æ—¥å¿—ä¸­å·²ç»åŒ…å«äº†redisçš„æ“ä½œï¼Œä½†æ˜¯æ˜¯åœ¨æ…¢çš„é‚£ä¸ªç¯èŠ‚ä¹‹åå‘€ï¼ˆä¸è¿‡æäº†ä¸ªé†’ï¼Œä»¥åredisè¦æ˜¯æŠ½é£ï¼Œè¿™ä¹Ÿæ˜¯ä¸ªé£é™©ç‚¹å‘¢ï¼‰ã€‚<br>kã€ç°åœ¨çŸ¥é“é—®é¢˜å°±å‡ºåœ¨org.apache.catalina.connector.CoyoteAdapterè¿™ä¸ªç±»æ—¥å¿—ä¸­æ˜¾ç¤ºçš„æ…¢çš„é‚£ä¸ªç¯èŠ‚äº†ï¼Œä½†ä»–ç©¶ç«Ÿå¹²äº†ä»€ä¹ˆï¼Ÿè²Œä¼¼åªæ˜¯ç®€å•çš„ä¸€äº›æ“ä½œå•Šï¼Œä»£ç å±‚æ¬¡å¾ˆæ·±ï¼Œä»Šå¤©ä¹Ÿç–²æƒ«äº†ï¼Œå°±æ²¡å¾€æ·±å¤„çœ‹ï¼Œä¸ºä»€ä¹ˆæœ¬åœ°æµ‹è¯•ä¸å‡ºç°é—®é¢˜ï¼Ÿå¸¦ç€è¿™äº›ç–‘é—®ï¼Œä»Šå¤©æ”¶ç­äº†ã€‚<br>lã€ä»Šå¤©æœ¬æ¥æ˜¯å‘¨å…­ï¼Œä½†é—®é¢˜æ²¡è§£å†³ï¼Œå¿ƒæœ‰ä¸ç”˜å‘€ï¼Œè€Œä¸”éƒ½èƒ½é‡ç°é—®é¢˜äº†ï¼Œè¦æ˜¯ä¸å®šä½åˆ°ï¼Œå¥½å¯æƒœã€‚äºæ˜¯èƒŒç€åŒ…æ¥åˆ°äº†å…¬å¸ï¼Œåæ­£ä»Šæ—¥æ— å®‰æ’ï¼æ¥åˆ°å…¬å¸ï¼Œç»è¿‡æ˜¨æ™šå’Œä»Šæ—©æ”¾æ¾äº†å¤§è„‘ï¼Œåˆå‡†å¤‡æ•´è£…å¾…å‘äº†ã€‚æœ¬åœ°ä¸å‡ºé—®é¢˜ï¼Œéš¾é“æ˜¯æ‰“åŒ…ç¯èŠ‚ä¸ä¸€æ ·ï¼Ÿä¸¤ä¸ªç§æœä¸ä¸€è‡´?äºæ˜¯æˆ‘æŠŠæµ‹è¯•ç¯å¢ƒçš„jaråŒ…æ‹·äº†ä¸‹æ¥ï¼Œjava XXX -jarå¯åŠ¨ï¼Œå’¦ï¼Œæœ¬åœ°é‡ç°é—®é¢˜äº†ï¼çœŸæ˜¯ç§æœé—®é¢˜ï¼ŒåŒ…ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Ÿæˆ‘åˆæŠŠæœ¬åœ°é¡¹ç›®ç”¨å¦ä¸€ä¸ªç§æœæ‰“äº†jaråŒ…java XXX -jarå¯åŠ¨ï¼Œå’¦ï¼Œé—®é¢˜ä¹Ÿé‡ç°äº†ï¼Œå“¦ï¼åŸæ¥æ˜¯ideaå¯åŠ¨æ—¶å€™å’Œjava -jaræœ‰äº›åŒºåˆ«ï¼ˆä¹Ÿè®¸æ˜¯classpathåŠ è½½çš„åŒºåˆ«å§ï¼‰ï¼Œæ­¤å¤„æ²¡æ·±ç©¶ï¼Œä½†å¾ˆåº†å¹¸ï¼Œæœ¬åœ°é‡ç°é—®é¢˜ï¼Œç¦»é—®é¢˜å®šä½å†è¿›ä¸€æ­¥<br>mã€æ—¢ç„¶æœ¬åœ°éƒ½é‡ç°é—®é¢˜äº†ï¼Œè™½ç„¶ä¸èƒ½ç”¨ideaæ–­ç‚¹æµ‹è¯•ï¼Œä½†æˆ‘æ”¹æ”¹æºç åŠ åŠ æ—¥å¿—å§ã€‚okï¼æºç æ—¥å¿—å·²åŠ å¥½ï¼Œè¿™ä¸‹æ—¥å¿—è¯¦ç»†äº†å§ï¼Œjava XXX -jarå¯åŠ¨ï¼Œæµ‹è¯•ï¼Œå•Šï¼åŸæ¥æ˜¯è¿™æ…¢ï¼Œè¿˜ä»¥ä¸ºåªæ˜¯ç®€å•çš„mapå‘¢ï¼Œè¢«ç±»åè¿·æƒ‘äº†ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">2019-07-06 11:44:55.430 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- normaliztion start............................</span><br><span class="line">2019-07-06 11:44:55.430 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- normaliztion end............................</span><br><span class="line">2019-07-06 11:44:55.432 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- decodedURI start............................</span><br><span class="line">2019-07-06 11:44:55.432 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- decodedURI end............................</span><br><span class="line">2019-07-06 11:44:55.432 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check normaliztion start............................</span><br><span class="line">2019-07-06 11:44:55.432 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check normaliztion end............................</span><br><span class="line">2019-07-06 11:44:55.433 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check getUseIPVHosts start............................&#123;&#125;false</span><br><span class="line">2019-07-06 11:44:55.433 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check getUseIPVHosts end............................&#123;&#125;localhost</span><br><span class="line">2019-07-06 11:44:55.433 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check mapreu start............................&#123;&#125;</span><br><span class="line">2019-07-06 11:45:00.570 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check mapreu end............................&#123;&#125;</span><br><span class="line">2019-07-06 11:45:00.570 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check session start1............................&#123;&#125;</span><br><span class="line">2019-07-06 11:45:00.570 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check session start4............................&#123;&#125;</span><br><span class="line">2019-07-06 11:45:00.571 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check session start5............................&#123;&#125;</span><br><span class="line">2019-07-06 11:45:00.571 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check session start6............................&#123;&#125;</span><br><span class="line">2019-07-06 11:45:00.571 INFO  [http-nio-8004-exec-13] CoyoteAdapter:180-- check session start7............................&#123;&#125;</span><br></pre></td></tr></table></figure></p>
<p>æºç <br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// This will map the the latest version by default</span><br><span class="line">            connector.getService().getMapper().map(serverName, decodedURI,</span><br><span class="line">                    version, request.getMappingData());</span><br></pre></td></tr></table></figure></p>
<p>æ­¤æ—¶å†…å¿ƒæ¿€åŠ¨ï¼Œé—®é¢˜ä¼¼ä¹æ›´æ¸…æ™°äº†ï¼Œæ‰“å¼€ideaï¼Œæ–­ç‚¹è°ƒè¯•ï¼Œå¾€é‡Œé¢è·Ÿï¼Œå‘ç°äº†ä¸€ä¸ªgatewayé¡µé¢ï¼Œå’¦ï¼Œè¿™æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„é¡µé¢ï¼Œå…¨é¡¹ç›®æœç´¢ä¸€ä¸‹ï¼Œå®ƒå¹²å•¥äº†ï¼<br>æºç ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// Rule 1 -- Exact Match</span><br><span class="line">       MappedWrapper[] exactWrappers = contextVersion.exactWrappers;</span><br><span class="line">       internalMapExactWrapper(exactWrappers, path, mappingData);</span><br><span class="line"></span><br><span class="line">       // Rule 2 -- Prefix Match</span><br><span class="line">       boolean checkJspWelcomeFiles = false;</span><br><span class="line">       MappedWrapper[] wildcardWrappers = contextVersion.wildcardWrappers;</span><br><span class="line">       if (mappingData.wrapper == null) &#123;</span><br><span class="line">           internalMapWildcardWrapper(wildcardWrappers, contextVersion.nesting,</span><br><span class="line">                                      path, mappingData);</span><br></pre></td></tr></table></figure></p>
<p>åŒ…å«gatewayçš„ä»£ç ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class StargateConfigration &#123;</span><br><span class="line">	@Bean</span><br><span class="line">	public ServletRegistrationBean dispatcherRegistration(StargateDispachServlet stargateDispachServlet) &#123;</span><br><span class="line">	    ServletRegistrationBean registration = new ServletRegistrationBean(</span><br><span class="line">	    		stargateDispachServlet);</span><br><span class="line">	    registration.addUrlMappings(&quot;/gateway&quot;);</span><br><span class="line">	    return registration;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p>å’¦ï¼Œservletï¼Œæˆ‘é¡¿æ—¶æƒ³èµ·ä»¥å‰å¥½åƒæˆ‘ä»¬çš„spring-bootä¸“é—¨åšäº†å¯¹jspçš„æ”¯æŒï¼Œäºæ˜¯æ¥åˆ°æˆ‘ä»¬çš„tomcat-statersï¼Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@Bean(name = &quot;yijiEmbeddedServletContainerCustomizer&quot;)</span><br><span class="line">public EmbeddedServletContainerCustomizer embeddedServletContainerCustomizer() &#123;</span><br><span class="line">	</span><br><span class="line">	return container -&gt; &#123;</span><br><span class="line">		//1. disable jsp if possible</span><br><span class="line">		if (!tomcatProperties.getJsp().isEnable()) &#123;</span><br><span class="line">			JspServlet jspServlet = new JspServlet();</span><br><span class="line">			jspServlet.setRegistered(false);</span><br><span class="line">			container.setJspServlet(jspServlet);</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure></p>
<p>éš¾é“æ˜¯Mç³»ç»Ÿå¯ç”¨äº†yiji.tomcat.jsp.enable=trueï¼Ÿé€šè¿‡çº¿ä¸Šç³»ç»Ÿå˜é‡æœç´¢ï¼Œå‘ç°ï¼Œç¡®å®ï¼ŒMå¯ç”¨äº†ï¼Œå…¶ä»–ç³»ç»Ÿæ²¡æœ‰ï¼Œæç„¶å¤§æ‚Ÿï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆMæœ‰é—®é¢˜è€Œå…¶ä»–ç³»ç»Ÿæ²¡é—®é¢˜çš„åŸå› å§ï¼äºæ˜¯æˆ‘java -Dyiji.tomcat.jsp.enable=false -jar Mï¼Œæµ‹è¯•ï¼Œæœç„¶ï¼Œä¸æ…¢äº†ã€‚ã€‚ã€‚é—®é¢˜ç»ˆäºå®šä½åˆ°ï¼Œspring-bootæœ¬èº«ä¸æ¨èjspï¼Œä½†æä¾›äº†æ”¯æŒï¼Œè¿™è¯´æ˜æœ¬èº«æ”¯æŒçš„æ–¹å¼å°±å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼<br>nã€å—¯ï¼Œæ¥ä¸‹æ¥ï¼Œä¸‹æ‰jspå§ï¼Œæœ¬æ¥è¿™å°±æ˜¯é—ç•™é—®é¢˜ï¼Œä¼ ç»Ÿé¡¹ç›®é‡‡ç”¨jspï¼Œåˆ‡æ¢springbootåå¼ºè¡Œæ”¯æŒäº†jspï¼Œä½†å´æœ‰æ€§èƒ½é—®é¢˜ï¼è¿˜æœ‰å®‰å…¨æ¼æ´ï¼</p>
<p>ä¸‹é¢è¯´è¯´spring-bootå¦‚ä½•æ”¯æŒjspå§ã€‚å…¶å®å°±æ˜¯å¤šæ³¨å†Œä¸€ä¸ªJspServlet!<br>1ã€æ·»åŠ ä¾èµ–<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;</span><br><span class="line">            &lt;scope&gt;provided&lt;/scope&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;jstl&lt;/artifactId&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br></pre></td></tr></table></figure></p>
<p>2ã€é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šjspæ–‡ä»¶å­˜æ”¾è·¯å¾„<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#è·¯å¾„,åœ¨webappæ–‡ä»¶å¤¹ä¸‹æ–°å»ºæ–‡ä»¶å¤¹WEB-INF,åœ¨å¾€ä¸‹å»ºæ–‡ä»¶å¤¹jsp</span><br><span class="line">spring.mvc.view.prefix=/WEB-INF/jsp/</span><br><span class="line">#æ–‡ä»¶åçš„åç¼€,ä¾‹å¦‚:index.jsp,æ”¾åœ¨jspæ–‡ä»¶å¤¹ä¸‹</span><br><span class="line">spring.mvc.view.suffix=.jsp</span><br></pre></td></tr></table></figure></p>
<p><img src="\images\pasted-91.png" alt="upload successful"><br>3ã€ä½œä¸ºæ¡†æ¶ï¼Œæˆ‘ä»¬é»˜è®¤ä¸æ”¯æŒjspï¼Œå› ä¸ºæœ‰æ€§èƒ½æŸè€—<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (!tomcatProperties.getJsp().isEnable()) &#123;</span><br><span class="line">				JspServlet jspServlet = new JspServlet();</span><br><span class="line">				jspServlet.setRegistered(false);</span><br><span class="line">				container.setJspServlet(jspServlet);</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure></p>
<p>4ã€ä¸šåŠ¡ç³»ç»Ÿæ ¹æ®è‡ªèº«æƒ…å†µå†³å®šæ˜¯å¦å¯åŠ¨jspæ”¯æŒï¼Œå¯ç”¨ï¼Œæ„å‘³ç€æ¥å—æ€§èƒ½æŸè€—ï¼</p>
<p>å¿ƒå¾—ï¼š<br>  æœ¬åœ°é—®é¢˜åˆ†æå†å²2å¤©åŠï¼ˆä¸­é€”å¾ˆå¤šæ—¶é—´åœ¨å¤„ç†å…¶ä»–äº‹æƒ…ï¼‰ï¼Œå¿ƒç†æ„Ÿå—é¢‡å¤šï¼Œåˆ†æçº¿ä¸Šç±»ä¼¼é—®é¢˜ä¸€å®šè¦æ€è·¯æ¸…æ™°ï¼Œç±»ä¼¼é—®é¢˜ï¼Œå…ˆç½‘è·¯å†åº”ç”¨ï¼Œå¦å¤–ä¸€å®šè¦æœ‰ä¸»çº¿ï¼Œå¦‚æœèƒ½æœ¬åœ°é‡ç°é—®é¢˜ï¼Œé‚£å¯æ˜¯å¤©å¤§çš„å¥½äº‹ï¼Œæºç è·Ÿè¸ªï¼Œæºç æ·»åŠ æ—¥å¿—å¯æœ‰æ•ˆå¸®æˆ‘ä»¬åˆ†æé—®é¢˜ï¼Œæ€»ä¹‹ï¼Œåˆ†æè·¨ç³»ç»Ÿã€è·¨éƒ¨é—¨ã€æ¡†æ¶çº§é—®é¢˜æ—¶ï¼Œåä½œã€å¿ƒæ€å¾ˆé‡è¦ï¼</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://realxc.githut.io/2019/06/05/ava-lang-NoClassDefFoundError-Could-not-initialize-class/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiang Chuang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åšå®¢å›­-å‘é—¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/06/05/ava-lang-NoClassDefFoundError-Could-not-initialize-class/" class="post-title-link" itemprop="url">java.lang.NoClassDefFoundError: Could not initialize class</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-06-05 20:42:00" itemprop="dateCreated datePublished" datetime="2019-06-05T20:42:00+08:00">2019-06-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-30 15:34:10" itemprop="dateModified" datetime="2019-09-30T15:34:10+08:00">2019-09-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çˆ±å­¦çˆ±é—®/" itemprop="url" rel="index"><span itemprop="name">çˆ±å­¦çˆ±é—®</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>é—®é¢˜æè¿°ï¼šé¡¹ç›®å¯åŠ¨æ²¡é—®é¢˜ï¼Œè¿è¡Œä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å½“è¿è¡Œåˆ°æŸä¸ªé™æ€å·¥å…·ç±»çš„æ—¶å€™ï¼Œå‡ºé—®é¢˜äº†ï¼Œä¸”æ²¡æœ‰å¼‚å¸¸ï¼Œ æŠ›å‡ºçš„æ˜¯NoClassDefFoundError</p>
<p>ç»åˆ†æï¼šåŸå› ä¸ºé™æ€ç±»ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨ï¼Œå°šæœªåŠ è½½åˆ°è™šæ‹Ÿæœºï¼Œä½¿ç”¨æ—¶åŠ è½½å¹¶ç¼–è¯‘ï¼Œä½†staticå—ä¸­ä»£ç æœ‰å¼‚å¸¸ï¼Œå¯¼è‡´ç±»åŠ è½½å¤±è´¥ï¼Œä»è€ŒæŠ›å‡ºæ­¤Error</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class LogTool &#123;</span><br><span class="line">	</span><br><span class="line">	public static boolean isPrint = true;</span><br><span class="line">	static &#123;</span><br><span class="line">		if (System.getProperty(&quot;spring.profiles.active&quot;).equals(&quot;local&quot;)</span><br><span class="line">			|| System.getProperty(&quot;spring.profiles.active&quot;).equals(&quot;pdev&quot;)</span><br><span class="line">			|| System.getProperty(&quot;spring.profiles.active&quot;).equals(&quot;sdev&quot;)) &#123;</span><br><span class="line">			isPrint = true;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://realxc.githut.io/2019/05/16/HttpURLConnection-å…³äºHttpRequestMethodNotSupportedExceptionå¼‚å¸¸/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiang Chuang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åšå®¢å›­-å‘é—¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/16/HttpURLConnection-å…³äºHttpRequestMethodNotSupportedExceptionå¼‚å¸¸/" class="post-title-link" itemprop="url">HttpURLConnection-å…³äºHttpRequestMethodNotSupportedExceptionå¼‚å¸¸</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-16 21:37:00" itemprop="dateCreated datePublished" datetime="2019-05-16T21:37:00+08:00">2019-05-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-30 15:34:10" itemprop="dateModified" datetime="2019-09-30T15:34:10+08:00">2019-09-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çˆ±å­¦çˆ±é—®/" itemprop="url" rel="index"><span itemprop="name">çˆ±å­¦çˆ±é—®</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>èƒŒæ™¯ï¼šæä¾›åœºæ™¯åŒ–ä¸šåŠ¡ç›‘æ§èƒ½åŠ›æ—¶ï¼Œéœ€è¦é€šè¿‡æ•è·åˆ°çš„å¼‚å¸¸æµæ°´gidç›´æ¥è·³è½¬åˆ°apmè¿›è¡Œé“¾è·¯ä¿¡æ¯æŸ¥è¯¢ã€‚</p>
<p>æ–¹æ¡ˆï¼šè°ƒç”¨apmæä¾›çš„gidç¿»è¯‘ä¸ºtraceIdæ–¹æ³•ï¼Œè¯¥èƒ½åŠ›æ˜¯åŸºäºspring mvcæä¾›ï¼Œå¹¶ä¸”æ˜¯httpsåè®®ã€‚godeyeä¸­åˆ©ç”¨HttpURLConnectionå°è£…poståŠgetæ–¹æ³•è¿›è¡Œè°ƒç”¨ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">URL realUrl = new URL(url);</span><br><span class="line">            HttpURLConnection conn = (HttpURLConnection )realUrl.openConnection();</span><br><span class="line">            conn.setRequestProperty(&quot;accept&quot;, &quot;*/*&quot;);</span><br><span class="line">            conn.setRequestProperty(&quot;connection&quot;, &quot;Keep-Alive&quot;);</span><br><span class="line">            conn.setRequestProperty(&quot;user-agent&quot;, &quot;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;SV1)&quot;);</span><br><span class="line">            conn.setRequestMethod(&quot;POST&quot;);</span><br><span class="line">            conn.setRequestProperty(&quot;Accept-Charset&quot;, &quot;UTF-8&quot;);</span><br><span class="line">            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);</span><br><span class="line">            conn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(param.length()));</span><br><span class="line"></span><br><span class="line">            conn.setDoOutput(true);</span><br><span class="line">            conn.setDoInput(true);</span><br><span class="line">            out = new OutputStreamWriter(conn.getOutputStream(),DEFAULT_UNICODE);</span><br><span class="line">            out.write(param);</span><br><span class="line">            out.flush();</span><br><span class="line">            read = new BufferedReader(new InputStreamReader(conn.getInputStream(),DEFAULT_UNICODE));</span><br><span class="line">            String line;</span><br><span class="line">            while ((line = read.readLine()) != null) &#123;</span><br><span class="line">                result += line;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure></p>
<p>é—®é¢˜ï¼šå®ŒæˆåŠŸèƒ½åæµ‹è¯•æ—¶å‘ç°å‡ºç°ç»“æœå¦‚ä¸‹ï¼š{â€œtimestampâ€:â€2019-05-16 21:36:11â€,â€statusâ€:200,â€errorâ€:â€OKâ€,â€exceptionâ€:â€org.springframework.web.HttpRequestMethodNotSupportedExceptionâ€,â€messageâ€:â€Request method â€˜POSTâ€™ not supportedâ€,â€pathâ€:â€/gidQueryâ€}</p>
<p>ç™¾æ€ä¸å¾—å…¶è§£ï¼Œåº¦å¨˜äº†ç›¸å…³é”™è¯¯ï¼ŒæŒ‡å‡ºäº†å¾ˆå¤šå¯èƒ½å¼•èµ·è¯¥é—®é¢˜çš„åŸå› ã€‚</p>
<p>åå‘ç°é—®é¢˜å‡ºç°åœ¨ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1ã€conn.setRequestMethod(&quot;POST&quot;);åŠ</span><br><span class="line">2ã€conn.setDoOutput(true);</span><br><span class="line">            conn.setDoInput(true);</span><br><span class="line">            out = new 3ã€OutputStreamWriter(conn.getOutputStream(),DEFAULT_UNICODE);</span><br><span class="line">            out.write(param);</span><br><span class="line">            out.flush();</span><br></pre></td></tr></table></figure></p>
<p>åˆ é™¤2ã€3è¿™å‡ è¡Œä»£ç åï¼ŒåŒæ—¶1æ”¹ä¸ºconn.setRequestMethod(â€œGETâ€)ï¼Œæ‰§è¡Œæ­£å¸¸ã€‚</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://realxc.githut.io/2019/05/06/å›´ç»•dubboåº•å±‚åŸç†æ¼«è°ˆå¾®æœåŠ¡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiang Chuang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åšå®¢å›­-å‘é—¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/06/å›´ç»•dubboåº•å±‚åŸç†æ¼«è°ˆå¾®æœåŠ¡/" class="post-title-link" itemprop="url">å›´ç»•dubboåº•å±‚åŸç†æ¼«è°ˆå¾®æœåŠ¡</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-05-06 17:56:00" itemprop="dateCreated datePublished" datetime="2019-05-06T17:56:00+08:00">2019-05-06</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-30 15:34:10" itemprop="dateModified" datetime="2019-09-30T15:34:10+08:00">2019-09-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/ä¸“é¢˜ç ”è®¨/" itemprop="url" rel="index"><span itemprop="name">ä¸“é¢˜ç ”è®¨</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="è¯´åœ¨å‰é¢"><a href="#è¯´åœ¨å‰é¢" class="headerlink" title="è¯´åœ¨å‰é¢"></a>è¯´åœ¨å‰é¢</h2><p>&emsp;&emsp;æœ¬æ–‡å°†ä»dubboåº•å±‚åŸç†çš„è§’åº¦æ·±å…¥æ¢è®¨dubboå®ç°æœºåˆ¶ï¼ŒåŒæ—¶ï¼ŒèŠä¸€èŠå½“ä¸‹ä¸ºä»€ä¹ˆæµè¡Œå¾®æœåŠ¡æ¶æ„ï¼Œå¹¶ä»‹ç»åŸºäºdubboè¿›è¡Œå¾®æœåŠ¡æ¶æ„çš„ç‰¹ç‚¹ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œæœ¬æ–‡çš„å‡ºå‘ç‚¹ä¸ºdubboï¼Œæœ€ç»ˆå¼•ç”³åˆ°å¾®æœåŠ¡æ¶æ„ï¼Œåç»­ä¼šæœ‰ä¸“é—¨çš„æ–‡ç« ä»¥å¾®æœåŠ¡æ¶æ„ä¸ºå‡ºå‘ç‚¹ï¼Œè¯¦ç»†æ¢è®¨å¦‚ä½•è¿›è¡Œä¼ä¸šçº§å¾®æœåŠ¡æ¶æ„ã€‚</p>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><ul>
<li><a href="#partI">XXX</a></li>
<li><a href="#partII">XXX</a></li>
<li><a href="#partIII">XXX</a></li>
<li><a href="#partIV">XXX</a></li>
</ul>
<hr>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://realxc.githut.io/2019/04/28/git-æœ¬åœ°commitã€pushã€showã€resetæ“ä½œ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiang Chuang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åšå®¢å›­-å‘é—¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/28/git-æœ¬åœ°commitã€pushã€showã€resetæ“ä½œ/" class="post-title-link" itemprop="url">git-æœ¬åœ°commitã€pushã€showã€resetæ“ä½œ</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-28 11:06:00" itemprop="dateCreated datePublished" datetime="2019-04-28T11:06:00+08:00">2019-04-28</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-30 15:34:10" itemprop="dateModified" datetime="2019-09-30T15:34:10+08:00">2019-09-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çˆ±å­¦çˆ±é—®/" itemprop="url" rel="index"><span itemprop="name">çˆ±å­¦çˆ±é—®</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>é—®é¢˜ï¼š<br>ä½¿ç”¨git commitä»£ç æ—¶ï¼Œgit commitå®Œæˆ<br>åç»­æ‰§è¡Œgit push origin master:master æç¤ºâ€œEverything up-to-dateâ€<br>ä½¿ç”¨git showæŸ¥è¯¢ï¼Œç¡®å®èƒ½çœ‹åˆ°æäº¤çš„å†…å®¹</p>
<p>åŸå› ï¼š<br>å°è¯•æäº¤åˆ°masterï¼Œä½†æœ¬åœ°å¯¹åº”çš„å…¶å®æ˜¯ä¸€ä¸ªåˆ†æ”¯</p>
<p>è§£å†³ï¼š<br>åˆ‡æ¢åˆ†æ”¯åˆ°ä¸»å¹²ï¼Œæ­¤æ—¶å‘ç°ï¼Œgit showï¼Œåˆšåˆšæäº¤çš„å†…å®¹çœ‹ä¸åˆ°äº†ï¼Œä¸”æœ¬åœ°ä»£ç ä¸­ä¹Ÿæ²¡æœ‰äº†ï¼Œè¯´æ˜commitå…³è”åˆ°äº†å¯¹åº”çš„åˆ†æ”¯</p>
<p>ä½¿ç”¨git reflogè¿”å›å¦‚ä¸‹<br>fb3e1b1 (HEAD -&gt; master) HEAD@{0}: reset: moving to fb3e1b1<br>2d7b28e (origin/master, origin/HEAD) HEAD@{1}: checkout: moving from fb3e1b16278856b6108cfe3010f7e4fd8c4e3634 to master<br>fb3e1b1 (HEAD -&gt; master) HEAD@{2}: commit: åœºæ™¯åŒ–ä¸šåŠ¡ç›‘æ§æ¨¡å‹æ­å»º<br>2d7b28e (origin/master, origin/HEAD) HEAD@{3}: checkout: moving from master to 2d7b28e3^0<br>2d7b28e (origin/master, origin/HEAD) HEAD@{4}: commit: å¼•å…¥è§„åˆ™å¼•æ“<br>6fe0e4e HEAD@{5}: commit: åŸºäºelk-kafkaæ•°æ®ä¼ è¾“é€šé“æ´»æ€§æ£€æµ‹<br>b28b71b HEAD@{6}: commit: kafkaæ¶ˆè´¹è€…æ•°é‡åŠåˆ†ç»„åœ¨heraä¸­é…ç½®ï¼ŒåŒæ—¶é‡‡é›†å…¥å£é‡‡ç”¨çº¿ç¨‹æ± æ‰§è¡Œä»¥æé«˜ååé‡<br>ad4778d HEAD@{7}: commit: åŸºäºelk-kafkaä¼ è¾“é€šé“çš„æ•°æ®é‡‡é›†åŠŸèƒ½å®ç°ï¼ˆéœ€è¿›è¡Œæ€§èƒ½è¯„ä¼°ï¼‰<br>3d9affa HEAD@{8}: commit: åŸºäºelk-kafkaä¼ è¾“é€šé“çš„æ•°æ®é‡‡é›†åŠŸèƒ½å®ç°ï¼ˆéœ€è¿›è¡Œæ€§èƒ½è¯„ä¼°ï¼‰<br>6508afa HEAD@{9}: commit: åå°ç®¡ç†å®ç°ç±»åŒæ­¥åˆ°é¡¹ç›®ä¸­<br>dd0138f HEAD@{10}: commit: heraé…ç½®æ›´æ”¹<br>29764a1 HEAD@{11}: commit: README<br>75debd5 HEAD@{12}: clone: from <a href="http://gitlab.yiji/yangxi/godeye.git" target="_blank" rel="noopener">http://gitlab.yiji/yangxi/godeye.git</a></p>
<p>å†æ¬¡ä½¿ç”¨git reset â€“hard fb3e1b1ï¼Œå°†æœ¬åœ°ä»£ç è¿˜åŸåˆ°äº†ç›¸åº”çš„ç‰ˆæœ¬ï¼Œä»£ç ç»ˆäºå›æ¥äº†ï¼Œå“ä¸€è·³</p>
<p>$ git reset â€“hard fb3e1b1<br>HEAD is now at fb3e1b1 åœºæ™¯åŒ–ä¸šåŠ¡ç›‘æ§æ¨¡å‹æ­å»º</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://realxc.githut.io/2019/04/11/å›¾ç‰‡å‹ç¼©-ImageIO-read-inputStream/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiang Chuang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åšå®¢å›­-å‘é—¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/11/å›¾ç‰‡å‹ç¼©-ImageIO-read-inputStream/" class="post-title-link" itemprop="url">å›¾ç‰‡å‹ç¼©-ImageIO.read(inputStream)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-11 18:36:00" itemprop="dateCreated datePublished" datetime="2019-04-11T18:36:00+08:00">2019-04-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-30 15:34:10" itemprop="dateModified" datetime="2019-09-30T15:34:10+08:00">2019-09-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/è¿™äº›å¹´ï¼Œé‚£äº›å‘/" itemprop="url" rel="index"><span itemprop="name">è¿™äº›å¹´ï¼Œé‚£äº›å‘</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ¬æ–‡å¯ç»“åˆé“¾æ¥ä¸­çš„æ–‡ç« ä»GCå±‚é¢è¾…åŠ©åˆ†æï¼<br><a href="https://realxc.github.io/2019/04/09/G1%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8-xx-initiatingheapoccupancypercent%E5%8F%98%E9%87%8F%E4%B9%8B%E9%97%AE/" target="_blank" rel="noopener">https://realxc.github.io/2019/04/09/G1%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8-xx-initiatingheapoccupancypercent%E5%8F%98%E9%87%8F%E4%B9%8B%E9%97%AE/</a></p>
<p>èƒŒæ™¯ï¼šç”±äºç›®å‰æ‰‹æœºåƒç´ è¶Šæ¥è¶Šå¯Œè£•ï¼Œå¯¼è‡´ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡æ—¶è¿‡å¤§3-4Mç”šè‡³ä»¥ä¸Šï¼Œä¸”åƒç´ è¾ƒé«˜ï¼Œå¦‚3024*4032ï¼Œå› æ­¤ï¼Œå›¾ç‰‡å‹ç¼©åŠŸèƒ½å°±åŠ¿åœ¨å¿…è¡Œäº†ã€‚</p>
<p>é€‰å‹ï¼šä¼˜å…ˆè€ƒè™‘å‰ç«¯å‹ç¼©ï¼Œä½†ç”±äºä¸ªäººå¯¹å‰ç«¯æ— ç”šå…´è¶£ï¼Œå› æ­¤æä¾›äº†åŸºäºjavaçš„å‹ç¼©è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ç›®å‰å¸‚é¢ä¸Šæˆç†Ÿçš„å‹ç¼©å·¥å…·å¤§è‡´ä¸ºthumbnailatoråŠsimpleimage<br>1ã€thumbnailator<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">		&lt;groupId&gt;net.coobird&lt;/groupId&gt;</span><br><span class="line">		&lt;artifactId&gt;thumbnailator&lt;/artifactId&gt;</span><br><span class="line">		&lt;version&gt;0.4.8&lt;/version&gt;</span><br><span class="line"> &lt;/dependency&gt;</span><br></pre></td></tr></table></figure></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BufferedImage bufferedImage = Thumbnails.of(input).scale(scale).outputQuality(quality).asBufferedImage();</span><br></pre></td></tr></table></figure>
<p>  ç»è¿‡ä½¿ç”¨å‘ç°æœ‰èƒŒæ™¯è‰²å˜çº¢çš„é—®é¢˜ï¼Œæœªç€æ‰‹è§£å†³,åŒæ—¶ï¼Œå†…å­˜æ¶ˆè€—è¾ƒå¤§</p>
<p>2ã€simpleimage<br>å‚è§git<br><a href="https://github.com/alibaba/simpleimage" target="_blank" rel="noopener">https://github.com/alibaba/simpleimage</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;com.sun.media&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;jai-codec&lt;/artifactId&gt;</span><br><span class="line">			&lt;version&gt;1.1.3&lt;/version&gt;</span><br><span class="line">		&lt;/dependency&gt;</span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;javax.media&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;jai-core&lt;/artifactId&gt;</span><br><span class="line">			&lt;version&gt;1.1.3&lt;/version&gt;</span><br><span class="line">		&lt;/dependency&gt;</span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;simpleimage&lt;/artifactId&gt;</span><br><span class="line">			&lt;version&gt;1.2.3&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">File in = new File(&quot;d://04092.jpg&quot;);      //åŸå›¾ç‰‡</span><br><span class="line">            ImageWrapper imageWrapper = ImageReadHelper.read(new FileInputStream(in));</span><br><span class="line">            int witdh = imageWrapper.getWidth();</span><br><span class="line">            int height = imageWrapper.getHeight();</span><br><span class="line">            File out = new File(&quot;d://04092-after.jpg&quot;);       //ç›®çš„å›¾ç‰‡</span><br><span class="line">            ScaleParameter scaleParam = new ScaleParameter(Float.valueOf(witdh * 0.5f).intValue()</span><br><span class="line">                    , Float.valueOf(height * 0.5f).intValue());</span><br><span class="line">            WriteParameter writeParam = new WriteParameter();</span><br><span class="line"></span><br><span class="line">            FileInputStream inStream = null;</span><br><span class="line">            FileOutputStream outStream = null;</span><br><span class="line">            ImageRender wr = null;</span><br><span class="line">            inStream = new FileInputStream(in);</span><br><span class="line">            outStream = new FileOutputStream(out);</span><br><span class="line">            ImageRender rr = new ReadRender(inStream);</span><br><span class="line">            ImageRender sr = new ScaleRender(rr, scaleParam);</span><br><span class="line">            wr = new WriteRender(sr, outStream, ImageFormat.JPEG, writeParam);</span><br><span class="line"></span><br><span class="line">            wr.render();                            //è§¦å‘å›¾åƒå¤„ç†</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">WriteRender.render()æºç ï¼š</span><br><span class="line"> @Override</span><br><span class="line">    public ImageWrapper render() throws SimpleImageException &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            if (image == null) &#123;</span><br><span class="line">                image = imageRender.render();//æ­¤å¤„è¯»å–åŸæ–‡ä»¶ï¼Œå¤§å¯¹è±¡</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            ImageWriteHelper.write(image, stream, outputFormat, param);//å†™æ–‡ä»¶ï¼Œæ•°æ®ç¼“å†²åŒºåˆ†æ®µåˆå§‹åŒ–ï¼Œä¸€ä¸ªæŒ‰å‹ç¼©åå›¾ç‰‡åƒç´ å¤§å°ç”Ÿäº§ï¼Œå¤–åŠ è‹¥å¹²512*512åŠ1024*1024çš„ç¼“å†²åŒºï¼Œå› æ­¤éœ€è¦æ›´å¤šçš„å†…å­˜</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            throw new SimpleImageException(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">ReadRender.renderæºç ï¼Œ WriteRenderä¸­éœ€è¦é¦–å…ˆä¾èµ–æ­¤ç±»è¯»å–åŸæ–‡ä»¶</span><br><span class="line">@Override</span><br><span class="line">    public ImageWrapper render() throws SimpleImageException &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            ImageWrapper imgWrapper;</span><br><span class="line">            if (inStream == null) &#123;</span><br><span class="line">                throw new SimpleImageException(&quot;No input set&quot;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            imgWrapper = ImageReadHelper.read(inStream);</span><br><span class="line"></span><br><span class="line">            if (tosRGBColorSpace) &#123;</span><br><span class="line">                for (int i = 0; i &lt; imgWrapper.getNumOfImages(); i++) &#123;</span><br><span class="line">                    PlanarImage img = ImageColorConvertHelper.convert2sRGB(imgWrapper</span><br><span class="line">                            .getAsPlanarImage(i));</span><br><span class="line">                    imgWrapper.setImage(i, img);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            return imgWrapper;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            throw new SimpleImageException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ImageReadHelper.read(inStream)ï¼š</span><br><span class="line">    public static ImageWrapper read(InputStream input)</span><br><span class="line">            throws SimpleImageException &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            input = ImageUtils.createMemoryStream(input);//æµæ‹·è´ï¼Œå¢åŠ äº†å†…å­˜ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">            if (ImageUtils.isJPEG(input)) &#123;</span><br><span class="line">                return readJPEG(input);//æ­¤å¤„è€—å†…å­˜</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (ImageUtils.isGIF(input)) &#123;</span><br><span class="line">                return readGIF(input);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            return readGeneral(input);</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            throw new SimpleImageException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>ç”±äºsimpleimageåœ¨readåŠwriteé˜¶æ®µåšäº†é¢å¤–æ“ä½œï¼Œä½¿å¾—å•æ¬¡å¼€è¾Ÿçš„å¤§å¯¹è±¡æ¯”æ–¹æ¡ˆ1çš„å°ï¼Œä½†ï¼Œå¤šæ¬¡å¼€è¾Ÿç¼“å†²åŒºï¼Œæ€»å†…å­˜å¤§å°åè€Œéœ€è¦çš„æ›´å¤šï¼Œç»“åˆG1å†…å­˜åˆ†é…æœºåˆ¶ï¼Œåœ¨å†…å­˜æ–¹é¢ä¸æ–¹æ¡ˆ1å­˜åœ¨ç›¸åŒé—®é¢˜ã€‚</p>
<p>3ã€ç”±äºä¸Šè¿°2ä¸ªæ–¹æ¡ˆå­˜åœ¨çš„é—®é¢˜åŠæœ¬èº«éœ€æ±‚åªæ˜¯ç¼©æ”¾å›¾ç‰‡è€Œä¸”ï¼Œä¹Ÿç”¨ä¸ä¸Šå®ƒä»¬æä¾›çš„æ°´å°ä¹‹ç±»çš„æ–¹æ³•ï¼Œå› æ­¤ï¼Œè‡ªå®šä¹‰äº†ä¸€ä¸ªä»…æ”¯æŒå›¾ç‰‡å‹ç¼©èƒ½åŠ›çš„å·¥å…·åŒ…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public final static ByteArrayOutputStream scale(InputStream srcImageStream, float scale) throws IOException &#123;</span><br><span class="line">        ByteArrayOutputStream desImageStream = new ByteArrayOutputStream();</span><br><span class="line">        BufferedImage originalImage = ImageIO.read(srcImageStream);</span><br><span class="line">        int width = Float.valueOf(scale * originalImage.getWidth()).intValue();</span><br><span class="line">        int height = Float.valueOf(scale * originalImage.getHeight()).intValue();</span><br><span class="line">        BufferedImage newImage = new BufferedImage(width, height, originalImage.getType());</span><br><span class="line">        Graphics g = newImage.getGraphics();</span><br><span class="line">        g.drawImage(originalImage, 0, 0, width, height, null);</span><br><span class="line">        g.dispose();</span><br><span class="line">        ImageIO.write(newImage, &quot;jpeg&quot;, desImageStream);</span><br><span class="line">        return desImageStream;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>   è¯¥æ–¹æ¡ˆèƒ½åœ¨å‹ç¼©è´¨é‡å¾—åˆ°ä¿è¯çš„å‰æçš„å¿«é€Ÿå®Œæˆå‹ç¼©ï¼Œçº¦1sï¼Œthumbnailatorä½¿ç”¨æ—¶ï¼Œçº¦2sã€‚<br>    é—®é¢˜æ¥äº†ï¼šåŠŸèƒ½ä¸Šå»åï¼Œå‘ç°å†…å­˜å ç”¨ç‡å¶å°”è¶…è¿‡90%ï¼Œä½†åƒåœ¾å›æ”¶ååˆèƒ½ç»å¤§æ•°å›æ”¶ï¼Œï¼ˆé‡‡ç”¨G1å›æ”¶ï¼Œåªé¢å¤–é…ç½®äº†æš‚åœæ—¶é—´50msï¼Œå †æœ€å¤§å€¼1536Mï¼‰å› æ­¤æ’é™¤å†…å­˜æ³„æ¼çš„å¯èƒ½ï¼Œä½†åŠŸèƒ½ä¸Šå»ä¹‹å‰æœªæ›¾å‡ºç°ï¼Œåˆæ­¥çŒœæµ‹æ˜¯å›¾ç‰‡å‹ç¼©åŠŸèƒ½å¼•èµ·çš„ï¼ˆæ–¹æ¡ˆ1ã€3éƒ½å­˜åœ¨é—®é¢˜ï¼Œæ¨æµ‹2ä¹Ÿå­˜åœ¨ï¼‰ï¼Œåç»æœ¬åœ°java visualVMè°ƒè¯•å‘ç°ï¼Œ æ‰§è¡Œä¸€ä¸ªå¤§å°3Må¤šï¼Œåƒç´ 3024*4032çš„å›¾ç‰‡å‹ç¼©æ—¶ï¼Œä¼šæœ‰35Må¤šçš„è€å¹´ä»£è¢«ç›´æ¥ä½¿ç”¨ã€‚å› æ­¤åˆ†æé—®é¢˜åœ¨äºå‡ºç°äº†å¤§å¯¹è±¡ï¼Œå¤§å¯¹è±¡ä¼šç›´æ¥åˆ†é…åœ¨è€å¹´ä»£ï¼Œäºæ˜¯é€šè¿‡æ–­ç‚¹æµ‹è¯•ç»“åˆ java visualVMç›‘æ§ï¼Œå®šä½åˆ°é—®é¢˜åœ¨äºï¼š<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BufferedImage originalImage = ImageIO.read(srcImageStream);</span><br></pre></td></tr></table></figure></p>
<pre><code>æ­¤æ–¹æ³•åˆ›å»ºBufferedImageæ—¶ï¼Œä¼šåŸºäºComponentSampleModelç±»é¦–å…ˆåˆ›å»ºæ•°æ®ç¼“å†²åŒºï¼ˆdataBufferï¼‰ï¼Œè€Œç¼“å†²åŒºå¤§å°ç®—æ³•ä¸ºï¼š
</code></pre>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">private int getBufferSize() &#123;</span><br><span class="line">      int maxBandOff=bandOffsets[0];//jpegå›¾ç‰‡ï¼Œæ­¤æ•°ç»„ä¸º&#123;2ï¼Œ1ï¼Œ0&#125;</span><br><span class="line">      for (int i=1; i&lt;bandOffsets.length; i++) &#123;</span><br><span class="line">          maxBandOff = Math.max(maxBandOff,bandOffsets[i]);</span><br><span class="line">      &#125;</span><br><span class="line">      if (maxBandOff &lt; 0 || maxBandOff &gt; (Integer.MAX_VALUE - 1)) &#123;</span><br><span class="line">          throw new IllegalArgumentException(&quot;Invalid band offset&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      if (pixelStride &lt; 0 || pixelStride &gt; (Integer.MAX_VALUE / width)) &#123;</span><br><span class="line">          throw new IllegalArgumentException(&quot;Invalid pixel stride&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      if (scanlineStride &lt; 0 || scanlineStride &gt; (Integer.MAX_VALUE / height)) &#123;</span><br><span class="line">          throw new IllegalArgumentException(&quot;Invalid scanline stride&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      int size = maxBandOff + 1;</span><br><span class="line">      int val = pixelStride * (width - 1);//pixelStride jpegå›¾ç‰‡æ—¶ï¼Œé»˜è®¤ä¸º3</span><br><span class="line">      if (val &gt; (Integer.MAX_VALUE - size)) &#123;</span><br><span class="line">          throw new IllegalArgumentException(&quot;Invalid pixel stride&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      size += val;</span><br><span class="line">      val = scanlineStride * (height - 1);//scanlineStride jpegå›¾ç‰‡æ—¶ï¼Œé»˜è®¤ä¸º12096</span><br><span class="line">      if (val &gt; (Integer.MAX_VALUE - size)) &#123;</span><br><span class="line">          throw new IllegalArgumentException(&quot;Invalid scan stride&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      size += val;</span><br><span class="line">      return size;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line"> å› æ­¤å¤§å°ä¸º(2+1)+3*(width-1)+12096*(height-1)  godï¼Œè¿™æ˜¯å¤šå¤§çš„ä¸€ä¸ªå†…å­˜å‘€</span><br><span class="line"> public DataBufferByte(int size, int numBanks) &#123;</span><br><span class="line">     super(STABLE, TYPE_BYTE, size, numBanks);</span><br><span class="line">     bankdata = new byte[numBanks][];</span><br><span class="line">     for (int i= 0; i &lt; numBanks; i++) &#123;</span><br><span class="line">         bankdata[i] = new byte[size];</span><br><span class="line">     &#125;</span><br><span class="line">     data = bankdata[0];</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ•´ä¸ªé€»è¾‘å¤„ç†æ—¶é—´æ˜¯1sï¼Œ é‚£ä¹ˆï¼Œå¯ä»¥ç®—ä¸€ä¸‹1så¹¶å‘é‡å¤šå¤§ï¼Œéœ€è¦é…ç½®å¤šå¤§çš„å†…å­˜äº† ï¼ï¼ï¼</p>
<p>é™„ï¼šæµ‹è¯•æ•°æ®<br>æ–¹æ¡ˆ1ï¼š<br><img src="\images\pasted-62.png" alt="upload successful"><br><img src="\images\pasted-63.png" alt="upload successful"><br><img src="\images\pasted-64.png" alt="upload successful"></p>
<p>æ–¹æ¡ˆ2ï¼š<br><img src="\images\pasted-68.png" alt="upload successful"><br><img src="\images\pasted-69.png" alt="upload successful"><br><img src="\images\pasted-70.png" alt="upload successful"><br><img src="\images\pasted-71.png" alt="upload successful"><br><img src="\images\pasted-72.png" alt="upload successful"><br><img src="\images\pasted-73.png" alt="upload successful"><br>æ–¹æ¡ˆ3ï¼š<br><img src="\images\pasted-65.png" alt="upload successful"><br><img src="\images\pasted-66.png" alt="upload successful"><br><img src="\images\pasted-67.png" alt="upload successful"></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://realxc.githut.io/2019/04/10/G1-Evacuation-Failure/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiang Chuang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åšå®¢å›­-å‘é—¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/10/G1-Evacuation-Failure/" class="post-title-link" itemprop="url">G1-Evacuation Failure</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-10 11:56:00" itemprop="dateCreated datePublished" datetime="2019-04-10T11:56:00+08:00">2019-04-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-30 15:34:10" itemprop="dateModified" datetime="2019-09-30T15:34:10+08:00">2019-09-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çˆ±å­¦çˆ±é—®/" itemprop="url" rel="index"><span itemprop="name">çˆ±å­¦çˆ±é—®</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å½“æ²¡æœ‰æ›´å¤šçš„ç©ºé—²regionè¢«æå‡åˆ°è€ä¸€ä»£æˆ–è€…å¤åˆ¶åˆ°å¹¸å­˜ç©ºé—´æ—¶ï¼Œå¹¶ä¸”ç”±äºå †å·²ç»è¾¾åˆ°æœ€å¤§å€¼ï¼Œå †ä¸èƒ½æ‰©å±•ï¼Œä»è€Œå‘ç”ŸEvacuation Failureã€‚å¯¹äºG1 GCï¼Œå®ƒæ˜¯éå¸¸è€—æ—¶çš„ã€‚ </p>
<p> a.å¯¹äºæˆåŠŸå¤åˆ¶çš„å¯¹è±¡ï¼ŒG1éœ€è¦æ›´æ–°å¼•ç”¨ï¼Œå¹¶ä¸”è¯¥regionè¢«ä¸€ç›´å¼•ç”¨ã€‚</p>
<p> b.å¯¹äºæœªæˆåŠŸå¤åˆ¶çš„å¯¹è±¡ï¼ŒG1å°†è‡ªåŠ¨è½¬å‘å®ƒä»¬ï¼Œå¹¶ä¿ç•™è¿™äº›regionã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>â‘ .ä¸è¦è¿‡åº¦åŠ ä¸€äº›jvmå‚æ•°ã€‚æ¯”å¦‚-Xmn,è¿™ä¸ªå‚æ•°ä¼šé™åˆ¶G1çš„å‚æ•°çš„è‡ªåŠ¨æ‰©å±•ã€‚å¯ä»¥ä»…ä½¿ç”¨-Xmsï¼Œ-Xmxå’Œæš‚åœæ—¶é—´ç›®æ ‡-XXï¼šMaxGCPauseMillisï¼Œåˆ é™¤ä»»ä½•é¢å¤–çš„å †å¤§å°ï¼Œä¾‹å¦‚-Xmnï¼Œ-XXï¼šNewSizeï¼Œ-XXï¼šMaxNewSizeï¼Œ-XXï¼šSurvivorRatioç­‰ã€‚</p>
<p>â‘¡.å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œåˆ™å¢åŠ JVMå †å¤§å°ï¼ˆå³-Xmxï¼‰ã€‚</p>
<p>â‘¢.å¦‚æœæ‚¨æ— æ³•å¢åŠ å †å¤§å°ï¼Œå¹¶ä¸”æ‚¨æ³¨æ„åˆ°marking cycleæ²¡æœ‰è¶³å¤Ÿæ—©åœ°å¼€å§‹å›æ”¶è€ä¸€ä»£ï¼Œé‚£ä¹ˆè¯·å‡å°‘-XXï¼šInitiatingHeapOccupancyPercentã€‚é»˜è®¤å€¼æ˜¯45ï¼…ã€‚å‡å°è¯¥å€¼å°†æå‰å¼€å§‹marking cycle ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœmarking cycle æå‰å¼€å§‹å¹¶ä¸”æœªæ”¶å›ï¼Œè¯·å°†-XXï¼šInitiatingHeapOccupancyPercenté˜ˆå€¼å¢åŠ åˆ°é»˜è®¤å€¼ä»¥ä¸Šã€‚</p>
<p>â‘£.å¦‚æœå¹¶å‘marking cycleå‡†æ—¶å¼€å§‹ï¼Œä½†éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½å®Œæˆï¼Œé‚£ä¹ˆä½¿ç”¨å±æ€§â€™-XXï¼šConcGCThreadsâ€™å¢åŠ å¹¶å‘æ ‡è®°çº¿ç¨‹æ•°çš„æ•°é‡ã€‚é»˜è®¤æ˜¯GC Workers: 1 ï¼Œå•çº¿ç¨‹æ‰§è¡Œã€‚</p>
<p>â‘¤.å¦‚æœæœ‰å¤§é‡â€œç©ºé—´è€—å°½ï¼ˆto-space exhaustedï¼‰â€æˆ–â€œç©ºé—´æº¢å‡ºï¼ˆto-space overflowï¼‰â€GCäº‹ä»¶ï¼Œåˆ™å¢åŠ -XX:G1ReservePercentã€‚é»˜è®¤å€¼æ˜¯Javaå †çš„10ï¼…ã€‚æ³¨æ„ï¼šG1 GCå°†æ­¤å€¼é™åˆ¶åœ¨50ï¼…ä»¥å†…ã€‚</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://realxc.githut.io/2019/04/10/G1-Humongous-Allocation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiang Chuang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åšå®¢å›­-å‘é—¯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/10/G1-Humongous-Allocation/" class="post-title-link" itemprop="url">G1-Humongous Allocation</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-04-10 11:56:00" itemprop="dateCreated datePublished" datetime="2019-04-10T11:56:00+08:00">2019-04-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-30 15:34:10" itemprop="dateModified" datetime="2019-09-30T15:34:10+08:00">2019-09-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çˆ±å­¦çˆ±é—®/" itemprop="url" rel="index"><span itemprop="name">çˆ±å­¦çˆ±é—®</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å®ƒæ˜¯ç”±â€™G1 Humongous Allocationâ€™é€ æˆçš„ã€‚å¤§å‹å¯¹è±¡ï¼ˆHumongous ï¼‰æ˜¯å¤§äºG1ä¸­regionå¤§å°50ï¼…çš„å¯¹è±¡ã€‚é¢‘ç¹å¤§å‹å¯¹è±¡åˆ†é…ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚å¦‚æœregioné‡Œé¢åŒ…å«å¤§é‡çš„å¤§å‹å¯¹è±¡ï¼Œåˆ™è¯¥regionä¸­æœ€åä¸€ä¸ªå…·æœ‰å·¨å‹å¯¹è±¡çš„åŒºåŸŸä¸åŒºåŸŸæœ«ç«¯ä¹‹é—´çš„ç©ºé—´å°†ä¸ä¼šä½¿ç”¨ã€‚å¦‚æœæœ‰å¤šä¸ªè¿™æ ·çš„å¤§å‹å¯¹è±¡ï¼Œè¿™ä¸ªæœªä½¿ç”¨çš„ç©ºé—´å¯èƒ½å¯¼è‡´å †ç¢ç‰‡åŒ–ã€‚ç›´åˆ°jdk1.8u40ä¹‹å‰ï¼Œè¿™äº›å·¨å‹å¯¹è±¡çš„å›æ”¶åªåœ¨full GCæœŸé—´å®Œæˆã€‚åœ¨è¾ƒæ–°çš„JVMä¸­ï¼Œå¯¹è¿™äº›å¯¹è±¡çš„æ¸…ç†æ”¾åœ¨äº†æ¸…ç†é˜¶æ®µã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>â‘ .å¯ä»¥åŠ å¤§regionçš„å¤§å°ï¼Œè®¾ç½®-XX:G1HeapRegionSize=nï¼Œä½†æ˜¯è¿™ä¸ªå‚æ•°éœ€è¦è®¾ç½®ä¸º2çš„å¹‚æ¬¡æ–¹ï¼Œæœ€å°å€¼æ˜¯1Mï¼Œæœ€å¤§å€¼æ˜¯32Mã€‚</p>
<p>â‘¡.å¦‚æœå¯ä»¥çš„è¯å¢åŠ JVMå †å¤§å°ï¼ˆå³-Xmx -Xmsï¼‰ã€‚</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Xiang Chuang</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">42</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">52</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/realxc" title="GitHub &rarr; https://github.com/realxc" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="/709257360@qq.com@gmail.com" title="E-Mail &rarr; 709257360@qq.com@gmail.com"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 â€“ <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiang Chuang</span>

  

  
</div>


  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>



  
  



  
  



  
  







  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/three/three.min.js"></script>

  
  <script src="/lib/three/three-waves.min.js"></script>

  
  <script src="/lib/three/canvas_lines.min.js"></script>

  
  <script src="/lib/three/canvas_sphere.min.js"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.0"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
